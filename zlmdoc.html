<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="AsciiDoc 10.2.1">
<title>Zen License Manager Documentation</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overridden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


@media screen {
  body {
    max-width: 50em; /* approximately 80 characters wide */
    margin-left: 16em;
  }

  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 13em;
    padding: 0.5em;
    padding-bottom: 1.5em;
    margin: 0;
    overflow: auto;
    border-right: 3px solid #f8f8f8;
    background-color: white;
  }

  #toc .toclevel1 {
    margin-top: 0.5em;
  }

  #toc .toclevel2 {
    margin-top: 0.25em;
    display: list-item;
    color: #aaaaaa;
  }

  #toctitle {
    margin-top: 0.5em;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>Zen License Manager Documentation</h1>
<span id="author">Wikena GmbH</span><br>
<span id="email" class="monospaced">&lt;<a href="mailto:support@zenlicensemanager.com">support@zenlicensemanager.com</a>&gt;</span><br>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>This documentation describes the <em>Zen License Manager</em> (ZLM) version
2024.08.14&#8201;&#8212;&#8201;a simple and easy-to-use C library and
toolset to manage software licenses. It should give you all the information you
need to integrate ZLM into your software product and manage the
corresponding software licenses.
Out of the box ZLM can be linked against C/C++ programs. For most Platforms Java
bindings are also contained in the distribution (see <a href="#Java">[Java]</a>). For Windows
(Visual Studio) .NET bindings are provided (see <a href="#DotNET">[DotNET]</a>).
With the right language bindings ZLM can be used with pretty much any
programming language.
<a href="https://github.com/wikena/zlmgo">ZLM Go bindings</a> and experimental
<a href="https://github.com/wikena/zlmfortran">ZLM Fortran bindings</a> are available online,
please contact us if you need bindings for other programming languages.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>To protect your software with ZLM you need to do two simple steps:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Add ZLM to your software to protect it with license files (or license
  strings).
</p>
</li>
<li>
<p>
Give the licenses to your customers.
</p>
</li>
</ol></div>
<div class="paragraph"><p>Currently there are two &#8220;dimensions&#8221; in which you can restrict your licenses:</p></div>
<div class="ulist"><ul>
<li>
<p>
Site licenses vs. fixed-node licenses.
</p>
</li>
<li>
<p>
Permanent licenses vs. expiring licenses.
</p>
</li>
</ul></div>
<div class="paragraph"><p>A site-license can run on any host computer, a fixed-node license only on a
defined set of host computers. A permanent license does never expire, an
expiring license is only valid until a certain date.</p></div>
<div class="paragraph"><p>The licensing strategy is entirely defined by the license files (see
<a href="#Licensefile">[Licensefile]</a>), the code in your program is always the same and defines only
from which location the license is loaded.</p></div>
<div class="paragraph"><p>But more on that later, at first we have to install ZLM.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="Installation">Installation</h2>
<div class="sectionbody">
<div class="paragraph"><p>This section describes the installation for <em>all</em> platforms <em>except</em>
Windows (Visual Studio), the installation guidelines for Windows (Visual
Studio) are given in <a href="#InstallationWindows">[InstallationWindows]</a>.
The installation for Windows (MinGW) is the same as described here, please
refert to <a href="#SettingUpMinGW">[SettingUpMinGW]</a> on how to setup MinGW on Windows.
The installations for Android and iOS have some peculiarities, please also refer
to <a href="#AndroidSpecifics">[AndroidSpecifics]</a> and <a href="#iOSSpecifics">[iOSSpecifics]</a> for details.</p></div>
<div class="paragraph"><p>Perform the following tasks in a shell or terminal, on Windows (MinGW)
use the MinGW command line.
After you downloaded your ZLM distribution for the desired platform from
<a href="https://zenlicensemanager.com/download/">ZLM Download</a> you have to extract the
archive file and change into the resulting directory. For example like this:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>tar xzf zlm-1.0-Linux_i686-32bit.tar.gz
cd zlm-1.0-Linux_i686-32bit</pre>
</div></div>
<div class="paragraph"><p>The distribution contains the following files.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 1. The files contained in the distribution</caption>
<col style="width:50%;">
<col style="width:50%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">api_example.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">example program which shows how to use the ZLM API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">CHANGELOG</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the change log</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">example.lic</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">example license file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">Makefile</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">make file to build the ZLM tools and the example program</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">README</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">a README file containing basic infos</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm.a</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library archive</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmdoc.html</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">a HTML file containing the ZLM documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmdoc.pdf</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the same documentation as a PDF file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmgenkeys</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the executable to generate the public/private key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmgenkeys.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the corresponding source file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm.h</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library header file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmhostid</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the executable to print/write host IDs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmhostid.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the source file for the <span class="monospaced">zlmhostid</span> tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmkeyhash.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the source file for the <span class="monospaced">zlmkeyhash</span> tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm_license_dummy.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">needed to build the <span class="monospaced">zlmkeyhash</span> tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmsign.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the source file for the <span class="monospaced">zlmsign</span> tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmverify.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the source file for the <span class="monospaced">zlmverify</span> tool</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Now you have to perform three easy steps to set up ZLM:</p></div>
<div class="paragraph"><div class="title">Generate public/private key pair</div><p>Execute <span class="monospaced">zlmgenkeys</span> in this directory to generate a public/private key pair:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>./zlmgenkeys</pre>
</div></div>
<div class="paragraph" id="Keyhash"><p>The output of <span class="monospaced">zlmgenkeys</span> looks like this:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>generating keys...
done!
private key file 'zlm_privkey.c' was written
public key file 'zlm_pubkey.c' was written
key hash:
7a9db8b522be25688e8d270c543af0846c32faa24eb97d9f00cebbccc75fa74c</pre>
</div></div>
<div class="paragraph"><p>You need the <em>key hash</em> to get your <em>library license</em> in the next step.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Tip" src="data:image/png;base64,
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">
</td>
<td class="content">The hash of your public key is included into your ZLM library license to
make it very hard to replace the public key in your binary, making your software
harder to crack!</td>
</tr></table>
</div>
<div class="paragraph"><p>If you already generated a public/private key pair and want to reuse it, copy
the corresponding files <span class="monospaced">zlm_pubkey.c</span> and <span class="monospaced">zlm_privkey.c</span> into the current
directory:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>cp /path/to/key/files/zlm_pubkey.c .
cp /path/to/key/files/zlm_privkey.c .</pre>
</div></div>
<div class="paragraph"><p>Afterwards invoke <span class="monospaced">make</span> and execute <span class="monospaced">zlmkeyhash</span> to get your key hash:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>make
./zlmkeyhash</pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">You should create a key pair <strong>only once</strong>, even if you are using
multiple platforms or upgrade ZLM! Otherwise older licenses will not work with
newer versions of your software!</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Get library license</div><p>Get your <em>library license</em> file <span class="monospaced">zlm_license.c</span> from the
<a href="https://zenlicensemanager.com">ZLM website</a> and copy it into this directory (we assume the file is contained in <span class="monospaced">~/Downloads/</span>):</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>cp ~/Downloads/zlm_license.c .</pre>
</div></div>
<div class="paragraph"><div class="title">Build the ZLM tools and library</div><p>Invoke <span class="monospaced">make</span> to build the ZLM tools and your ZLM library:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>make</pre>
</div></div>
<div class="paragraph"><p>If the <span class="monospaced">make</span> invocation was successful the following files have been created.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 2. Built ZLM files</caption>
<col style="width:50%;">
<col style="width:50%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">libzlm.a</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library which includes your ZLM library license and public key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">api_example</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the binary for the API example</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmhostid</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM hostid tool (you can give this to your customers)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmkeyhash</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM keyhash tool which prints the hash of your public key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmsign</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM sign tool which signs license files</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmverify</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM verify tool which verifies the signatures in license files</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">The confidentiality of your private key is very important!
Store the <span class="monospaced">zlm_privkey.c</span> source file and the <span class="monospaced">zlmsign</span> binary securely!</td>
</tr></table>
</div>
<div class="paragraph"><p>To test that everything works you can execute the following three commands:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>zlmsign example.lic
zlmverify example.lic
api_example</pre>
</div></div>
<div class="paragraph"><p>The programs used above are explained in more detail below in section
<a href="#Tools">[Tools]</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="InstallationWindows">Installation Windows (Visual Studio)</h2>
<div class="sectionbody">
<div class="paragraph"><p>This section describes the installation for Windows (Visual Studio), see
<a href="#Installation">[Installation]</a> for all other platforms (or skip to the <a href="#Tools">[Tools]</a> section).</p></div>
<div class="paragraph"><p>After you downloaded your ZLM distribution for Windows (Visual Studio) from
<a href="https://zenlicensemanager.com/download/">ZLM Download</a> you have to extract the
archive file (you can use the Windows Explorer for that).</p></div>
<div class="paragraph"><p>Afterwards open the Visual Studio Command Prompt and change to the
freshly created ZLM directory (we assume your username is John, please
change accordingly):</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>cd C:\Users\John\Desktop\zlm-1.0-Windows-64bit</pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">Make sure that the <em>word size</em>---32-bit (x86) vs. 64-bit (x64)---of
your compiler matches the word size of the used ZLM distribution, otherwise you
will get a cryptic message like this:
<span class="monospaced">error LNK2019: unresolved external symbol</span></td>
</tr></table>
</div>
<div class="paragraph"><p>The distribution contains the following files (use <span class="monospaced">dir</span> to list the
files).</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 3. The files contained in the distribution</caption>
<col style="width:50%;">
<col style="width:50%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">api_example.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">example program which shows how to use the ZLM API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">api_example_dotnet.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">example program which shows how to use the ZLM API from .NET</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">CHANGELOG</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the change log</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">example.lic</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">example license file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">Makefile</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">nmake file to build the ZLM tools and the example program</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">README</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">a README file containing basic infos</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm_md.def</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">module definition file necessary to build DLL (with <span class="monospaced">/MD</span>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm_mt.def</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">module definition file necessary to build DLL (with <span class="monospaced">/MT</span>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm_md.lib</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library archive (compiled with <span class="monospaced">/MD</span>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm_mt.lib</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library archive (compiled with <span class="monospaced">/MT</span>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmdoc.html</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">a HTML file containing the ZLM documentation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmdoc.pdf</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the same documentation as a PDF file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmgenkeys.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the executable to generate the public/private key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmgenkeys.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the corresponding source file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm.h</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library header file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmhostid.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the executable to print/write host IDs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmhostid.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the source file for the <span class="monospaced">zlmhostid</span> tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmkeyhash.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the source file for the <span class="monospaced">zlmkeyhash</span> tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm_interop_md.cs</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">C# file containing the .NET interoperability layer (for <span class="monospaced">/MD</span>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm_interop_mt.cs</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">C# file containing the .NET interoperability layer (for <span class="monospaced">/MT</span>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm_license_dummy.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">needed to build the <span class="monospaced">zlmkeyhash</span> tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmsign.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the source file for the <span class="monospaced">zlmsign</span> tool</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmverify.c</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the source file for the <span class="monospaced">zlmverify</span> tools</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Now you have to perform three easy steps to set up ZLM:</p></div>
<div class="paragraph"><div class="title">Generate public/private key pair</div><p>Execute <span class="monospaced">zlmgenkeys</span> in this directory to generate a public/private key pair:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>zlmgenkeys</pre>
</div></div>
<div class="paragraph"><p>The output of <span class="monospaced">zlmgenkeys</span> looks like this:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>generating keys...
done!
private key file 'zlm_privkey.c' was written
public key file 'zlm_pubkey.c' was written
key hash:
7a9db8b522be25688e8d270c543af0846c32faa24eb97d9f00cebbccc75fa74c</pre>
</div></div>
<div class="paragraph"><p>You need the <em>key hash</em> to get your <em>library license</em> in the next step.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Tip" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAKZUlEQVRoge2aa3BU5RmAn3Pbs7fs
JmwCRGITk0hVLFAtNWoq6pAiU0cKaYfa6ShT+YN4YbQw9F/8QX+UMv6gM3Q6oxMV6TgIbe10Gq2g
cSzDpRaFgmIk4SKB3LP3Pff+SM66m+xuFvEyzvSbeefsbva8+z7nvXzf934RHMfhmzzEr9uAqx3/
B/i6xzceQP6iFDmT1cBxHNzCkFsgBEHIXnNeC1f7u1cN4DiOY9s2rliWhWVZWRDHcbJGC4KAJElI
koQoioii6IiieFUgnxvAtm3HNdg0Tbq6uuju7ubYsWP09vYyMjKCpmmoqkokEqGhoYGFCxfS2tpK
W1sbiqJkRZIkZxLoikGEK50H3CdumiZ9fX3s3LmT3bt3U1V3A0033cKc2nkEQxV4PSqSJOI4Dpqu
k0gkGLx8kZ4T7zF87iSrV69m3bp1NDY2oqoqHo8HWZa5Uo9cEYBt245lWRiGQUdHB9u2beOe1Y8w
/6bFVAT9xJJpYvEUiVSGjG5gmBY4DqIoonoUfF4PoYAfRRE5/8kp3njlD6xfv54tW7YQCATw+Xyu
R8r2RtkAtm07pmly5MgRHn/8cZSaZpbcfjd+n5f+wVEGRqJkdCMv3vME8t77vB6qQn4+OX6YsXPH
2bp1Ky0tLQQCAVRVdb0xI0RZZdQ1ft++fSxbtozrlqzgrnvvI5nRee9UL+f6h9B0A1EQEIsBiOKE
TL7XdJOBkTg1jYtouu1+1qxZw549e4hGo6TTaUzTxLbtGZ/ujEmca/wvHnqYnz/2DLNn19B74TID
I9HPjCvwlLMls4RHdMNC8IRZ8dBmnnp6E7Zts2rVKgB8Ph+yLDulPFEyhBzHcUzT5PDhwyxbtow1
j3YQqanmozOfEk2kChuLQ3x0lGQihmM7qF4vVdWz8fr9hYFyoK30OG/ufpYXXniB1tZWwuEwXq8X
WZaLJnZJAMuyHE3TuPPOO2lcsoLGpmZO9ZzPM37q0x0ZuISla2xY2077j5ZSFargZM9Znt97gE8u
DBb3ziRIfPAcF4/v59VXX6W6uppQKISqqkiSVBCgaA64odPR0YFS00xjUzNnLlwmmkznxbKYI45j
k04mefaZJ3j04VXMqZ6Fx6Pw3QXXs/3Xv6Tp2rnTALL3T8wDBCLz8M2Zz/bt24nFYjPmQ0EAt9b3
9fWxbds2ltxxD0NjMQbdmC+QlIIgIIkSoWCAH971/Wk6PYrCg/f/oHiVmhSP6qWm/gY6Ozvp6ekh
mUyi6zq2bWeXK+UAYFkWO3fu5N72dQT8Pi5cGp6xuoiiiBoMktH0gl5trp87DbqQBEMRbl32U3bt
2kUikUDTtOzypGwAwzDYvXs3316wiEuDoxiGWVaZrAjP4qW/vFUQ4NAHPdlwKQWiqF4qa+ro6uoi
kUiQTqcxDKM8ADd8Xn/9dWZdewMVwSCDo7GicT8NSBTZt/8oT259jgOHThBNpIgmUjy3dz/P7z2Q
r2My7gs9FNUXoPpbN9Ld3Z0FKBRG0+YBN3y6u7tpWnAr8WR6+gxLfr03TYNMMolhGFimiWVbXDzb
x4G3/4XgOIiyTF3DdW45nHG2RhBQfX6q65o5evQoy5cvn9BtWUiSRG5FLQhg2zbHjh3j+tsfKFrv
3R8EGL7UT23NLNraWmi+ro5r5kSYHakiVOHH7/OiyDKxZIonf9NJIpWZMQcEwOPx4vNXcPr0B2Qy
mdxEzrO34ExsWRa9vb3csjzEaP9w1sUFZ1RBQJJk/vjbTdTXzS2kDoBQwI9HmcEDOSJ7PAiiSH9/
P7quY5omlmVN01soB3Ach5GREbyqiqabM8a+NxAglcmvPOf7h9jR+WdOfNQLwNtHTzIeT+XFfdGC
IAiIogSOQzQaxTRNdy4ozwO2baNpGpIkY1j2RAJTeJ0jCAKRmtmcPHORmkglxz48y/5DJ3jrnUPM
b7iGxx7+MZZls/efR0rG/VQPgwMC2eQtZHxRAABVVbM3lEpgV178azcvvfYOgiCgZTJomsbGR9oR
BIHzl4YYGo2VlcCuWOaE5xVFwbbtqVHiCJOZXBQgEomg6zqSKOIUMrqER+LRKItvaubW78wH4NLQ
WNmx7+q1DB1ZkgmFQohifqS7xhcFEEWRhoYGEokEqkeeWPLmurcEiGPbpJJJfvbAPVl95/qHJyYv
mH5/EdG1FA5QW1ubzZvc8pm1deoHroKFCxcycPkiPlWdnmC5iTxlVk2n0wT9Xu69Y3FW51g8OfH3
ye+WnAgnRcukyKQSNDU1Icty7n65NACAJEm0trbSc/zfVAT9JZ/U1NWklslwx/duxqMoWX0Zzcy/
bwr0VCDT0NDTSS6f/ZBFixZlN/ySJJXnAVEUaWtrY6DvOIoiFlx5FhPLsrjl5uvzdPq8nsLfL6I3
FR1FlhUG+v5LS0tLtmtRlgcEYaL5pCgKq1ev5lzPKfxeT8FwKSQA115Tk6eztjpcsubn6rUMnfj4
MLHxIZYuXYrX683rVpQDIIiiiKIorFu3jn+8vIPKCt+0cCkG4m4Bc0fd3OqCoVIIJDo2iCQrvPu3
F1m5cmVeu6VQz6hgDrj1t7GxkfXr1/Px+wdRPcr02C+wmgxVVnLm3KU8ffNmVxX03lSgRHSEVGyc
oYt9tLe3U19fTzAYzAKUVYVyw0hVVbZs2cJw7/uYyZGSIeCCeFWVd499jGGaWX1zq8OfrYOKeC+T
ijM+cBHHsRju/Q9r164lFAoRDAbdPfEVAQiiKOLxeAgEAmzdupW/v/A7RLPEyjTHuGjKYMfLb3B5
eBzdMNl/+CSmZReN+0wqztDFs4iSxIE9O9mwYQPhcJhwOEwgEMhN4GkEZXUlYrEYe/bs4elfbWLF
Q5tQKyJlVaRy+kSJ6AhjA58iihJdf9rBUxufYPny5cyZM6esrkTJxpabzIFAgFWrVmHbNps3b+bu
n6wnVF2H4lHLmlULgZiGTmxkgGR8DNu2efOV3/PUxo20tbURiUSorKwkEAhkk7fYmLE36rZX0uk0
0WiUgwcP0tHRQcW8G5ndsIBgaBYe1TvtyRYDMXWNZGyU+Ngwkiwz+GkfQ73vsWHDBhYvXkwkEmHW
rFmEw2G3M1eyR1pWczcXIh6PMz4+zvbt2+ns7OS2+x6kanYdqjeA1xdAUb3IioIoSjg42JaJaejo
mTRaOoGeTiHJEvGxYd55rZP29nbWrl1LOBymqqqKyspKKioqyjK+bIBcCE3TSCaTxGIxenp62LVr
F11dXdTUL2BO/Xx8/goEUcSxbYSJ2EGS5IlzgnSC/r4PuXzmOEuXLmXlypXU19cTCoUIh8OEQqEr
7k5/7vOBdDpNMpkkkUiQSCTo7u7m6NGjnD59mv7+fqLRKIZhoCgKoVCI2tpampqaWLRoES0tLfh8
Pvx+P8FgkGAw+OWfD7gj94RG13U0TSOdTpNOp8lMbmQ0TcvbArrrK1mW8Xg8eL3e7BLB5/N9dSc0
uSP3jMwwjKy4G3AXwB0ugAsx5YzMndW//DOy3OFMjGwrxrKs7NX9LBfAneFFUcxec6rU5zqpvCqA
qTCT16/0nPgLA/i6xjf+Xw3+B2ll/uiqTaJTAAAAAElFTkSuQmCC">
</td>
<td class="content">The hash of your public key is included into your ZLM library license to
make it very hard to replace the public key in your binary, making your software
harder to crack!</td>
</tr></table>
</div>
<div class="paragraph"><p>If you already generated a public/private key pair and want to reuse it, copy
the corresponding files <span class="monospaced">zlm_pubkey.c</span> and <span class="monospaced">zlm_privkey.c</span> into the current
directory:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>copy C:\path\to\key\files\zlm_pubkey.c .
copy C:\path\to\key\files\zlm_privkey.c .</pre>
</div></div>
<div class="paragraph"><p>Afterwards invoke <span class="monospaced">nmake</span> and execute <span class="monospaced">zlmkeyhash</span> to get your key hash:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>nmake
zlmkeyhash</pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">You should create a key pair <strong>only once</strong>, even if you are using
multiple platforms or upgrade ZLM! Otherwise older licenses will not work with
newer versions of your software!</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Tip" src="data:image/png;base64,
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">
</td>
<td class="content">Starting from version 1.8 the Visual Studio distribution of ZLM builds
<strong>two</strong> version of all libraries: A <span class="monospaced">/MD</span> version and a <span class="monospaced">/MT</span> version.
For example, <span class="monospaced">libzlm_md.lib</span> and <span class="monospaced">libzlm_mt.lib</span>.
Which version you should use depends on the compilation settings of the project
you want to use ZLM for. If you are unsure which version to use the <span class="monospaced">/MD</span>
version is probably the correct choice. If you are using the wrong version you
will get weird linking errors.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Get library license</div><p>Get your <em>library license</em> file <span class="monospaced">zlm_license.c</span> from the
<a href="https://zenlicensemanager.com">ZLM website</a> and copy it into this directory
(we assume the file is contained in <span class="monospaced">C:\Users\John\Downloads\</span>):</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>copy C:\Users\John\Downloads\zlm_license.c .</pre>
</div></div>
<div class="paragraph"><div class="title">Build the ZLM tools and library</div><p>Invoke <span class="monospaced">nmake</span> to build the ZLM tools and your ZLM library:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>nmake</pre>
</div></div>
<div class="paragraph"><p>If the <span class="monospaced">nmake</span> invocation was successful the following files have been created.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 4. Built ZLM files</caption>
<col style="width:50%;">
<col style="width:50%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">libzlm_md.lib</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library which includes your ZLM library license and public key (<span class="monospaced">/MD</span> version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">libzlm_mt.lib</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library which includes your ZLM library license and public key (<span class="monospaced">/MT</span> version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">api_example_md.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the binary for the API example (statically linked with <span class="monospaced">/MD</span>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">api_example_mt.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the binary for the API example (statically linked with <span class="monospaced">/MT</span>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">api_example_dll_md.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the binary for the API example (linked to <span class="monospaced">/MD</span> version of DLL)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">api_example_dll_mt.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the binary for the API example (linked to <span class="monospaced">/MT</span> version of DLL)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm1_md.dll</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library as DLL, <span class="monospaced">/MD</span> version (specific your ZLM library license and public key)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm1_mt.dll</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM library as DLL, <span class="monospaced">/MT</span> version (includes your ZLM library license and public key)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm1_md.exp</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the export file which corresponds to the DLL (<span class="monospaced">/MD</span> version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm1_mt.exp</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the export file which corresponds to the DLL (<span class="monospaced">/MT</span> version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm1_md.lib</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the library file which corresponds to the DLL (<span class="monospaced">/MD</span> version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm1_mt.lib</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the library file which corresponds to the DLL (<span class="monospaced">/MT</span> version)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmhostid.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM hostid tool (you can give this to your customers)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmkeyhash.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM keyhash tool which prints the hash of your public key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmsign.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM sign tool which signs license files</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlmverify.exe</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the ZLM verify tool which verifies the signatures in license files</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">The confidentiality of your private key is very important!
Store the <span class="monospaced">zlm_privkey.c</span> source file and the <span class="monospaced">zlmsign.exe</span> binary securely!</td>
</tr></table>
</div>
<div class="paragraph"><p>To test that everything works you can execute the following three commands:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>zlmsign example.lic
zlmverify example.lic
api_example_mt</pre>
</div></div>
<div class="paragraph"><p>The programs used above are explained in more detail below.</p></div>
<div class="paragraph" id="DotNET"><div class="title">Using the .NET bindings</div><p>The Windows distribution for Visual Studio also contains .NET bindings in the
file <span class="monospaced">zlm_interop_md.cs</span> (or <span class="monospaced">zlm_interop_mt.cs</span>). An example usage of the .NET bindings is shown in
<span class="monospaced">api_example_dotnet.cs</span>. The .NET bindings use the <span class="monospaced">zlm_md1.dll</span> or <span class="monospaced">zlm_mt1.dll</span> DLL. If you invoke</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>nmake dotnet</pre>
</div></div>
<div class="paragraph"><p>A binary <span class="monospaced">api_example_dotnet_md.exe</span> is build from <span class="monospaced">api_example_dotnet.cs</span> and
<span class="monospaced">zlm_interop_md.cs</span> and another binary <span class="monospaced">api_example_dotnet_mt.exe</span> from
<span class="monospaced">api_example_dotnet.cs</span> and <span class="monospaced">zlm_interop_mt.cs</span>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">You should prefer the statically linked <span class="monospaced">libzlm_md.lib</span> or
<span class="monospaced">libzlm_mt.lib</span> over the DLLs
<span class="monospaced">zlm_md1.dll</span> and <span class="monospaced">zlm+mt1.dll</span> wherever possible! The .NET and Java bindings are an exception to this rule.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Java">ZLM Java bindings</h2>
<div class="sectionbody">
<div class="paragraph"><p>The HTML reference documentation can be found in the <span class="monospaced">javadoc/</span> folder of your distribution and
<a href="https://zenlicensemanager.com/javadoc">online</a>.</p></div>
<table class="tableblock frame-all grid-all"
style="
width:100%;
">
<caption class="title">Table 5. The files for the ZLM Java bindings contained in the distribution</caption>
<col style="width:50%;">
<col style="width:50%;">
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">APIExample.java</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">example program which shows how to use ZLM Java</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">APIExample.class</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">the corresponding class file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm1.jar</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">JAR (Java ARchive) file with the ZLM Java bindings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">zlm_jni.a</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">library file which is used to build the shared library</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><span class="monospaced">javadoc/</span></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">directory with the Javdoc reference of ZLM Java</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>On the platforms which contain the ZLM Java bindings a shared library is build
during the normal build process (on Windows <span class="monospaced">zlm1.dll</span>, on Mac OS
<span class="monospaced">libzlm1.dylib</span>, and on Linux <span class="monospaced">libzlm1.so</span>). To use the ZLM Java bindings you
need the <span class="monospaced">zlm1.jar</span> file in your classpath and the shared library in your
library path.  <span class="monospaced">APIExample.java</span> shows how to use the ZLM Java bindings in your
Java project.</p></div>
<div class="listingblock">
<div class="title"><span class="monospaced">APIExample.java</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> com<span style="color: #990000">.</span>zenlicensemanager<span style="color: #990000">.</span>zlm<span style="color: #990000">.*;</span> <span style="font-style: italic"><span style="color: #9A1900">/* import all classes from zlm1.jar */</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">class</span></span> <span style="color: #008080">APIExample</span>
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #0000FF">public</span></span> <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span>String<span style="color: #990000">[]</span> args<span style="color: #990000">)</span>
  <span style="color: #FF0000">{</span>
    <span style="color: #008080">ZlmLicense</span> license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">;</span>
    <span style="font-weight: bold"><span style="color: #0000FF">try</span></span> <span style="color: #FF0000">{</span>
      license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #0000FF">new</span></span> <span style="font-weight: bold"><span style="color: #000000">ZlmLicense</span></span><span style="color: #990000">();</span>
      license<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">get</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"My Product"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"1.0"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">,</span> <span style="color: #FF0000">"."</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">null</span></span><span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">catch</span></span> <span style="color: #990000">(</span><span style="color: #008080">ZlmException</span> e<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
      System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"error: "</span> <span style="color: #990000">+</span> e<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getMessage</span></span><span style="color: #990000">());</span>
      System<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">exit</span></span><span style="color: #990000">(</span><span style="color: #993399">1</span><span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span>
    System<span style="color: #990000">.</span>out<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">println</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"got license!"</span><span style="color: #990000">);</span>
    license<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">free</span></span><span style="color: #990000">();</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #FF0000">{</span>
    <span style="font-style: italic"><span style="color: #9A1900">/* load shared ZLM library */</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>System<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">getProperty</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"os.name"</span><span style="color: #990000">).</span><span style="font-weight: bold"><span style="color: #000000">startsWith</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"Windows"</span><span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
      System<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadLibrary</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"zlm_mt1"</span><span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #FF0000">{</span>
      System<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">loadLibrary</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"zlm1"</span><span style="color: #990000">);</span>
    <span style="color: #FF0000">}</span>
  <span style="color: #FF0000">}</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>If you invoke</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>make java</pre>
</div></div>
<div class="paragraph"><p>the example program is executed (use <span class="monospaced">nmake</span> instead of <span class="monospaced">make</span> on Windows).</p></div>
</div>
</div>
<div class="sect1">
<h2 id="Tools">ZLM Tools</h2>
<div class="sectionbody">
<div class="paragraph"><p>ZLM contains five command line tools.</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">zlmgenkeys</span></div><p>The <span class="monospaced">zlmgenkeys</span> tools is usually used only once during the installation of
ZLM to generate a public/private key pair (which is saved in the files
<span class="monospaced">zlm_pubkey.c</span> and <span class="monospaced">zlm_privkey.c</span>).</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">zlmhostid</span></div><p>The <span class="monospaced">zlmhostid</span> tool prints the host ID(s) of the computer it is executed on.
The output is in a format which is suitable to be
included directly into a license file as a <span class="monospaced">"hostid"</span> value (in
order to create a fixed-node license). In addition, it writes its output to the
file <span class="monospaced">zlmhostid.txt</span> in the current working directory. If the file already
exists, it is overwritten.
You can freely distribute this tool to your customers.</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">zlmkeyhash</span></div><p>The <span class="monospaced">zlmkeyhash</span> tool prints the hash of your public key to <span class="monospaced">stdout</span>.</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">zlmsign</span></div><p>The <span class="monospaced">zlmsign</span> tool expects a license file as argument which it signs with your
private key. It also automatically includes the appropriate <span class="monospaced">"vendor"</span> field.
If no license file is given, <span class="monospaced">zlmsign</span> reads the license from <span class="monospaced">stdin</span> and writes
the result to <span class="monospaced">stdout</span>.</p></div>
<div class="paragraph"><p>If the license file contains a <span class="monospaced">"hostid"</span> entry which is not <span class="monospaced">"any"</span> the host
ID(s) are hashed with a random salt and an additional <span class="monospaced">"salt"</span> entry is added
to the license file. This makes it harder to spoof MAC addresses.</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">zlmverify</span></div><p>The <span class="monospaced">zlmverify</span> tool also expects a license file in which it verifies the
signatures. It does <strong>not</strong>, however, check any other things about the licenses.
That is the <span class="monospaced">"product"</span>, <span class="monospaced">"version"</span>, <span class="monospaced">"expiry"</span>, <span class="monospaced">"hostid"</span>, and <span class="monospaced">"customer"</span>
fields can contain anything as long as they are in a valid format.
<a href="#Licensefile">[Licensefile]</a> explains the license format in detail.
If no license file is given, <span class="monospaced">zlmverify</span> reads the license from <span class="monospaced">stdin</span>.</p></div>
<div class="paragraph"><p>The ZLM tools are just simple wrappers for functions given in the ZLM API and the corresponding source files are included in the ZLM distribution for explanatory purposes, see <a href="#Toolfiles">[Toolfiles]</a>.</p></div>
<div class="paragraph"><p>The ZLM API is described in detail in <a href="#API">[API]</a>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="Licensefile">License File Format</h2>
<div class="sectionbody">
<div class="paragraph"><p>The license files are written in <a href="http://json.org/">JSON</a> which is easy to read
for humans and easy to parse for machines.
They contain a single JSON <em>object</em> (an
unordered set of name/value pairs). The object has two mandatory <em>members</em>: the
<span class="monospaced">"vendor"</span> and the <span class="monospaced">"license"</span>.</p></div>
<div class="listingblock">
<div class="title">Example license file (single license, unsigned)</div>
<div class="content monospaced">
<pre>{
  "vendor": "My Company",
  "license": {
    "product": "My Product",
    "version": "1.0",
    "expiry": "never",
    "hostid": "any",
    "customer": "John Doe"
  }
}</pre>
</div></div>
<div class="paragraph"><div class="title"><span class="monospaced">"vendor"</span></div><p>The <span class="monospaced">"vendor"</span> member must have a <em>string</em> as value which defines the vendor of
the software for which the license is issued. This is set automatically by
the <span class="monospaced">zlmsign</span> tool according to your ZLM library license.</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">"license"</span></div><p>The <span class="monospaced">"license"</span> member must have either another <em>object</em> or an <em>array</em> (of
<em>objects</em>) as value. The license object defines the actual license, in the case
of an array it defines multiple licenses, as can be seen in the following
example.</p></div>
<div class="listingblock">
<div class="title">Example license file (multiple licenses, unsigned)</div>
<div class="content monospaced">
<pre>{
  "vendor": "ISV",
  "license": [
    {
      "product": "My first Product",
      "version": "2014.12",
      "expiry": "never",
      "hostid":
        "7f7a752390747d36bb6c182b2813cd136cfb19bc31232400328feb9b16b129bb",
      "salt":
        "154a70ff2f22972e33add2aa9def0642ecc19f7eaf5230f21045724a809a46e6",
      "customer": "Big Corp"
    },
    {
      "product": "My second product",
      "version": "2.1",
      "expiry": "2016-01-16",
      "hostid": [
        "67b7dc781748a019064959509cf0743652f6110b6804e3783250743485abb6a6",
        "aacc004aa98cc2a8495822c47689b719aa5172ff58a0c8141550619657f7814b",
        "862e8e6702ff15ccdaca36aa8f7cd89c06cbc7ddda677cc27676546420ffefec"
      ],
      "salt":
        "9c1763e3c7533e1207c385bb5ca946d93d05bca68cd1ac61d0e5eeb1940a0b1b",
      "customer": "Big Corp."
    }
  ]
}</pre>
</div></div>
<div class="paragraph"><p>The license object itself has multiple mandatory <em>members</em> as follows.</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">"product"</span></div><p>The <span class="monospaced">"product"</span> member must have a non-empty <em>string</em> as value which defines the
product of this license. It is compared with the <span class="monospaced">product</span> string supplied to
the <span class="monospaced">zlm_license_get()</span> method (see <a href="#API">[API]</a>). The product strings are
case-sensitive and must match exactly!</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">"version"</span></div><p>The <span class="monospaced">"version"</span> member must have a <em>string</em> as value which defines the
highest-numbered product version supported by this license (in the form
"<em>major</em>.<em>minor</em>" or "<em>major</em>.<em>minor</em>.<em>patch</em>").
The comparison is done numerically: At first the <em>major</em>
numbers are compared numerically and if they are equal the <em>minor</em> numbers are
compared numerically. If the <em>minor</em> numbers are also equal the <em>patch</em>
numbers are compared numerically (if the <em>patch</em> number is not set it is
considered to be <span class="monospaced">ULONG_MAX</span>).
That is, <span class="monospaced">"1.1"</span> is greater than <span class="monospaced">"1.0"</span>,
<span class="monospaced">"1.0.1"</span> is greater than <span class="monospaced">"1.0"</span>, <span class="monospaced">"2020.12</span>" is greater than
<span class="monospaced">"2020.02"</span>, and <span class="monospaced">"2020.01.02"</span> is greater than <span class="monospaced">"2020.01.01"</span>.</p></div>
<div class="paragraph"><p>Three basic strategies are possible with the version string:</p></div>
<div class="ulist"><ul>
<li>
<p>
You put version <span class="monospaced">"1.0"</span> in the license and in the call to <span class="monospaced">zlm_license_get()</span>
  and never worry about the version (unless you want to obsolete all license
files by increasing the version in the <span class="monospaced">zlm_license_get()</span> call).
</p>
</li>
<li>
<p>
You put the actual version of your product into the license and in the
  <span class="monospaced">zlm_license_get()</span> call which will require new licenses for new releases of
your software.
</p>
</li>
<li>
<p>
You use date-based versions in the form <span class="monospaced">"YYYY.MM"</span> (e.g., <span class="monospaced">"2020.02"</span>) to
  make licenses valid for software releases up to a certain month.
</p>
</li>
<li>
<p>
Similarly, you use date-based versions in the form <span class="monospaced">"YYYY.MM.DD"</span>
  (e.g., <span class="monospaced">"2020.02.01"</span>) to make licenses valid for software releases up
  to a certain day.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title"><span class="monospaced">"expiry"</span></div><p>The <span class="monospaced">"expiry"</span> member must have a <em>string</em> as value which is either <span class="monospaced">"never"</span> or a
string in the form <span class="monospaced">"YYYY-MM-DD"</span> (following <a href="http://de.wikipedia.org/wiki/ISO_8601">ISO 8601</a> and <a href="http://tools.ietf.org/html/rfc3339">RFC 3339</a>). If it is <span class="monospaced">"never"</span> the license never expires.
If it denotes a date in the form <span class="monospaced">"YYYY-MM-DD"</span> the license is valid until (and
including) the given date.</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">"expirynofs"</span></div><p>If the optional <span class="monospaced">"expirynofs"</span> member is set to <span class="monospaced">true</span> the expiry check doesn&#8217;t
do any file system operations. Usually should not be set.</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">"hostid"</span></div><p>The <span class="monospaced">"hostid"</span> member must have a <em>string</em> or an <em>array</em> (of <em>strings</em>) as
value.  If the string is <span class="monospaced">"any"</span> the license will work on any host computer. If
it denotes one or multiple <em>hashed</em> MAC addresses in the form
<span class="monospaced">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span> (e.g.,
<span class="monospaced">"a7b0f72da63155b3a64a92e61343a8f53242add64662ac823fc184a38d6b5f7e"</span>), the
license will work only on hosts with <em>at least</em> one network interface with a
matching MAC address. You can use the <span class="monospaced">zlmhostid</span> tool to get the hostid string
of a computer (see <a href="#Tools">[Tools]</a>).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Tip" src="data:image/png;base64,
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">
</td>
<td class="content">Hashing the MAC addresses makes it much harder to spoof them, because it is
not obvious from the license file which MAC addresses are valid.</td>
</tr></table>
</div>
<div class="paragraph"><p>On Android it is also possible to use an ANDROID_ID or an application ID as
<span class="monospaced">"hostid"</span> (see <a href="#AndroidSpecifics">[AndroidSpecifics]</a>). Application IDs must be prefixed with
<span class="monospaced">"applicationID="</span>.</p></div>
<div class="paragraph"><p>On iOS a vendor specific unique key or a bundle identifier can be use as
<span class="monospaced">"hostid"</span>. The vendor specific unique key is a UUID conforming to RFC 4122
version 4 with the format <span class="monospaced">"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"</span>. Bundle
identifier must be prefixed with <span class="monospaced">"CFBundleIdentifier="</span> (see <a href="#iOSSpecifics">[iOSSpecifics]</a>).</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">"salt"</span></div><p>The <span class="monospaced">"salt"</span> member must have a <em>string</em> as value and must be set if <span class="monospaced">"hostid"</span>
is not set to <span class="monospaced">"any"</span>. It contains the salt which was used to hash the MAC
addresses in <span class="monospaced">"hostid"</span>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Tip" src="data:image/png;base64,
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">
</td>
<td class="content">Using an additional salt while hashing the MAC addresses defends against
precomputed MAC address hashes.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title"><span class="monospaced">"customer"</span></div><p>The <span class="monospaced">"customer"</span> member must have a non-empty <em>string</em> as value which describes the customer of your license in any way you want (e.g, <span class="monospaced">"John Doe"</span>).</p></div>
<div class="paragraph"><div class="title"><span class="monospaced">"signature"</span></div><p>If a license file has been signed the <span class="monospaced">"signature"</span> value of every license
entry is a signature <em>string</em> which makes the license entry valid.
The signature is verified automatically with your public key by <span class="monospaced">zlm_license_get()</span>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAALa0lEQVRogdWZa2wc1RXHfzM7O/te
P9e1vXHSmEdjx3YeDkkaF6REKRRCEDSEFNkRjdSWSsgC2iqoRWqLQKiqIBg1NOQDiMeHtkQIQkRR
S9S4aWwgCQoUgl232KkT28J21l6vd3d2dx79sDuTXdtre03Uqlc62tl53Pv/n3PuOffcKxiGwf9z
E//XAL5sk65WR0a6AaDrOjMtKwgCoigiCAKCIAhXa9wvTcAEHhoc5KMjR7jw3nucf+MN67k/GCS4
YQOr77yTpl27kGUZm81mXC0ywlLnQDbwEwcO0P2b3yz4jV5RwZq2Nm5/5BH8fj+SJGGz2b4UiSUR
MAzD0DSNEwcO8MdHHln8d0AcsAUCfOe551h7yy04HA7sdvuSrVEwAV3XjdDgIC/v2cOl06dznqWA
JCAAMvn9MwlEgF1PP8037rsPt9uN3W5fkjUKIqDrujF+4QLP3XQTU0NDOc8UIAa4y8sJtrQQqK/H
7XQSfv99Pn/nHQRRxNB16/0EEAUatm9n76uv4vP5cDgcBZNYNIF84I0MEK20lIZvf5sNe/dSWlqK
1+vFxBEZHubT3/+evqNHmR4dJRWP55BevW0bra+8gt/vx+l0IknSokksikA+8ElgClixYwc3799P
ZWUlTqczbz+x0VFOPvEEQ6dPE/niCwxdt0jUbd1K68svU1xcXBCJBQnMBz5eWkrL/v2s++Y3KSsr
QxQXlxc7f/5zBjo7CQ8NoadSKKQn943t7dyyf79FYjHuNC8BwzAMVVV56Z57+OzNN3PAJ8vK+FZH
B2s2b55X6/nahRMnOP7TnxLOKEXJyO2/+hVf37uXoqIinE6nmfzyksirMjNUvvGjH+WAVwG1vJxb
Dhxg1bp1uFwuMwQWJCu3bWPN3r24SkoAcGbA/OXXv2bws8+IRqOkUqlZGX1RBAzDMHRd51+nTvHe
wYNX7gPTQMO+faxav56SkpIlgTdlU3s7TXv2IGUs6AGioRDH2tuZmJggFouhqirGPCzyEUBVVX7X
1pZzPwI0fP/7bNmzh7KysrzADh8+zP3338++ffs4ePBg3vdEUWTDD3/IsuZmRLsdW4bEpd5eOp99
lnA4jKIoaJqWl8QsAqb2Txw4kDNp40BxXR0bWlspLy/PC+qZZ55hdHQUSZIYHByko6ODxx57bBZw
cy3kq6xk6y9/ib+qCgQBmbQ7nT50iIs9PUSjUZLJJIZhzEliLgKMDQzwp5/9zLqnkQ51W3/xCwKB
AE6nMy+B3t5exsfH6ezspLe3l3g8zuHDh2cBz5bKpibWtrXhLi0FwA3owNsPP8zExATxeBxVVecy
QC4Bc+L+taNjluvU33031dddN6/2BUGgpKSE/v5+JicncweaA3i2tDz8MIHrr0eU0gsQBzDW10ff
yZNEIhESicScrpRDQNd1xgYG+OC3v7XuJQBXIMDWn/yEioqKeUGMjY0hCAKKoszS1MjIyLzfAmx/
4gmKli0DQcBJOmicfOopJicnicfjJoG5LWBq/+Szz+a8oABNe/bgdrvndR1BEKiqqiIejxOLxWYR
CAaDC0alqjVrqGxowFNWhkDalUKff07f3/5mWSFTLFksLAK6rjN+4UKO9lXAUV7O2tbWeaNOthZl
WZ4FHlh0aN3y4IPIHk+6L8AGvNfRQTgctuZCthVEU/u6rnPutddyBk0A9bt3W4us+QY2fbyurg6v
15vTzw033LBoAsHmZoLNzdgcDgBcQKi/n391dTE9PU0ymcyxgkmAVCrF+4cO5WjfFgiwfoGwOTOy
lJWVUVtba1mkUAKCILClvR1veTkA9owVPnzllZy8YFnA1H5/dzfTw8PWgziwcutWfD4fsiwvCNyU
xsZG3G43lZWVVl933XVXQQSq161j+ebNlhXcwBdnzxIOh60lhmkFEUDTNP7++uvWgBrp6mrNHBk3
H/BsAtFoFEdm8GAwyMaNGwsiIAgCjbt346uosKwgAp8cPWolNj1THInmsqHn6FGLQApY1thIxcqV
+Hy+WX6+0ETesWMHLpcLWZZ54IEHCgYvCAKrbrsNyem0JrQEXMzkhKzlBaKu61z+97+ZHhnJmbwr
tm2zJu5CWp8pra2tNDU1sXPnTtrb25dEQBAEvrplC57MXJCB8XPniEQixONxa6Uq6brOQHd3jvvo
QP2ttxZUpMxsL7zwwpK+AyxLXrt9Oxe6uxFEEXvGZc4fO0bVD35AMplM1wuapjGYtbugAp5AgKLq
aquu/W/JTEs37dqFqihWzSADk8PD1jzQNC3tQtmrThUINDbm+H4h0tfXx6OPPsodd9xBW1sbPT09
BQPPluu2b7fWRxIQ6usjFotZBCRN06wZbbZAfT1FRUWWKQtpzz//PMPDw/T09DA1NcXo6CjHjx+f
11Xma95AwHJjEdB0HUVRrhCYuRGrAiXBoFUqFtq6u7sZHx9nJBMUurq65uxnsX0Hm5v56A9/ANIJ
LXrpEolEwgqlUqZQyPlo6OOPlzx5ly1bxnBWQmxpackBW6hSBEC02axrpqasNZGmaek8kN0kYPDj
j1FVdUlz4Mknn6Surs4Cb5aUhYZiUy59+GGOgm3V1WiadiUPCILAV9autV5wAaM9PXQeOWJprBBp
aGjgxIkTpFIpOjs7aWxsXBJwUwZOnUKZmgLS2zl4vUjSlV1XURRFqtavv3IDKAVe/O53efPxx69a
SCxUBs+c4dV77+Vyfz+xy5eBdG3iX7ECm81m9S2JokiwuZmiujrCPT1AuqgOAqcef5zzL77Imt27
uemhhyipqVnYZ5cw8bPbR0eOcOall7g8MEB4aIhEJAJk9qOAwKZNyLJsHpQgRKNRIxQK0XPmDH/+
3vdQQ6G8na/YtIk199zDypYWVmzceFWAT1y8yMWzZzn/9tv0vfsudqeTlKIQHRvL2QSOAqU7d/K1
W2/l2muvpba2Nl3iJhIJIxKJMDw8TO/Zs3zw4x+jTUzkHVCw2fCUleHw+QiuXYu/upqqhgb8VVUY
hkFNczPFweCs7z556y3r+vyxYwiiyD+PHwdBwNB1krEYhqYRC4UwdB2D9LJmmnRtXHz77VTfeCPL
ly+ntraWmpqa9MaaqqqGoiiEQiGGhoYYHBzk00OHiHR2LkqDNlnG7nJhd7nQswqN+ZogiuipFMlY
DDWRgBl5KEF6woqAUFFByc03U756NZWVlSxfvpyamhoCgQAejwdB13VDVVVisRihUIiRkRGGh4cZ
+sc/GO3qIt7VhZGJAle7mVpWuVKDCBng8jXX4N68Gc8111BUVER5eTnV1dVUV1cTCASuFFqGYaDr
upFKpYjH40xMTDA+Ps7Y2Bjj4+OEw2EmenqYPneO1OAgZCWpxTY9S9QMcLhyHGUDRI8HqbISZ309
zoYGnE4nHo8Hv99PaWkpgUCAiooK6/DE4XCkI1HW2a6hqiqKojA9Pc3k5KQl4XCY6elpotFoetuk
v59UKIR66RLToRBJTcMYHUWIRvMSMPO6rbY2/SsIOFatQpYk5NWrkSQJWZZxOBy43W68Xi9+v5+i
oiJKSkooLi7G5/PhdruRZdnads85HzD3hpLJJIqiEIvFiEajRCIRIpEI0WiUWCxGPB631iOKopBK
pazUbi4Oc7Y+snKCzWbDZrMhSRKSJGG3262w6HK5cLlceDwevF4vPp8Pr9eL2+3G5XLhcDjMkxuE
TNibdcBhnv9qmkYqlSKZTJJIJFAUhXg8jqIoKIpCIpGwSCSTSVRVtWSuk3qTiAnebrfngHc4HDid
TpxOJy6Xy7qWZdk6wZzrxCbvCY1JRNd1NE3LAWgSM69ngp+PgCiK1gF3NhFTzHvmO+Y3wCzw8xLI
JpL5tYCZpEyw2f/nWt1ag2UtM0x3Mq1iAp1j+bH0M7KFCGWDnfmbd8AMnuxfUzL/C0rp/wFnFd4n
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">Changing anything in a license file even one bit makes it invalid! If
you want to change a license file after signing it, you have to use the
<span class="monospaced">zlmsign</span> tool again!</td>
</tr></table>
</div>
<div class="paragraph"><div class="title"><span class="monospaced">"userdata"</span></div><p>A license file can have an optional <span class="monospaced">"userdata"</span> entry which contains a
<em>string</em> or <em>object</em>. Userdata strings or objects are protected against
modifications by the license signature, but are not used in ZLM itself. They are
useful to extend ZLM, as described below in <a href="#ExtendingZLM">[ExtendingZLM]</a>.</p></div>
<div class="paragraph"><p>Please note that the JSON format of the license file requires that some special
characters in the userdata string have to be escaped, see
<a href="http://json.org">JSON</a> for details. With <span class="monospaced">zlm_license_userdata()</span>  you get the
userdata in escaped form. That is, the caller is responsible for the unescaping.
With <span class="monospaced">zlm_license_userdata_unescaped()</span> the userdata is returned in unescaped
form.</p></div>
<div class="listingblock">
<div class="title">Example license file (single license, with userdata)</div>
<div class="content monospaced">
<pre>{
  "vendor": "My Company",
  "license": {
    "product": "My Product",
    "version": "1.0",
    "expiry": "never",
    "hostid": "any",
    "customer": "John Doe",
    "userdata": "opaque"
  }
}</pre>
</div></div>
<div class="paragraph"><div class="title"><span class="monospaced">"minversion"</span></div><p>A license file can have an optional <span class="monospaced">"minversion"</span> entry. It must have a <em>string</em> as value which defines the
lowest-numbered product version supported by this license (in the form
"<em>major</em>.<em>minor</em>" or "<em>major</em>.<em>minor</em>.<em>patch</em>").
The comparison is done in the same way as for the
<span class="monospaced">"version"</span> entry (however, if the <em>patch</em> number is not set it is
considered to be <span class="monospaced">0</span>).
<span class="monospaced">"minversion</span>" entries can be used to enforce an update of
the software to a minimal version number.</p></div>
<div class="listingblock">
<div class="title">Example license file (single license, with minversion)</div>
<div class="content monospaced">
<pre>{
  "vendor": "My Company",
  "license": {
    "product": "My Product",
    "version": "1.1",
    "expiry": "never",
    "hostid": "any",
    "customer": "John Doe",
    "minversion": "1.1"
  }
}</pre>
</div></div>
<div class="paragraph"><div class="title"><span class="monospaced">"os"</span></div><p>A license file can have an optional <span class="monospaced">"os"</span> entry. It must have a <em>string</em> as
value which defines the allowed operating system for this license (either
<span class="monospaced">"Android"</span>, <span class="monospaced">"FreeBSD"</span>, <span class="monospaced">"iOS"</span>, <span class="monospaced">"Linux"</span>, <span class="monospaced">"Mac OS"</span>, or <span class="monospaced">"Windows"</span>).
Thereby, <span class="monospaced">"os</span>" entries can be used to bind a license to a certain operating
system.</p></div>
<div class="listingblock">
<div class="title">Example license file (single license, with os)</div>
<div class="content monospaced">
<pre>{
  "vendor": "Wikena GmbH",
  "license": {
    "product": "My Product",
    "version": "1.1",
    "expiry": "never",
    "hostid": "any",
    "os": "Linux",
    "customer": "John Doe"
  }
}</pre>
</div></div>
<div class="paragraph"><div class="title"><span class="monospaced">"cpu"</span></div><p>A license file can have an optional <span class="monospaced">"cpu"</span> entry. It must have a <em>string</em> as
value which defines the allowed CPU architecture for this license (either
<span class="monospaced">"x86_64"</span>, <span class="monospaced">"x86"</span>, <span class="monospaced">"aarch64"</span>, <span class="monospaced">"arm"</span>, <span class="monospaced">"powerpc64"</span>, <span class="monospaced">"powerpc64le"</span>,
<span class="monospaced">"powerpc32"</span>, <span class="monospaced">"powerpc32le"</span>, <span class="monospaced">"mips64"</span>, <span class="monospaced">"mips64el"</span>, <span class="monospaced">"mips32"</span>, or
<span class="monospaced">"mips32el"</span>).
Thereby, <span class="monospaced">"cpu</span>" entries can be used to bind a license to a certain CPU
architecture.</p></div>
<div class="listingblock">
<div class="title">Example license file (single license, with cpu)</div>
<div class="content monospaced">
<pre>{
  "vendor": "Wikena GmbH",
  "license": {
    "product": "My Product",
    "version": "1.1",
    "expiry": "never",
    "hostid": "any",
    "cpu": "x86_64",
    "customer": "John Doe"
  }
}</pre>
</div></div>
<div class="paragraph"><div class="title"><span class="monospaced">"appcert"</span> (Android only)</div><p>The <span class="monospaced">"appcert"</span> member must have an <em>array</em> (of <em>strings</em>) as value which denote
all the application signing certificate SHA-256 hashes for this license file.
The license will work only with applications which have been signed by one of the given signing certificates.</p></div>
<div class="listingblock">
<div class="title">Example license file (license, with appcert)</div>
<div class="content monospaced">
<pre>{
  "vendor": "Wikena GmbH",
  "license": {
    "product": "My Product",
    "version": "1.1",
    "expiry": "never",
    "hostid": "any",
    "customer": "John Doe",
    "appcert": [
      "E1:6C:72:6F:0B:07:96:3C:A0:5E:7A:32:46:5F:69:ED:CC:63:CC:5D:F4:D0:E2:83:C7:EC:15:54:BF:94:ED:48",
      "F2:43:AA:14:0E:D2:59:38:C7:4D:8C:31:FC:2E:48:85:48:DC:5C:94:DE:4E:45:F1:BA:64:0C:BA:D9:94:95:74"
    ]
  }
}</pre>
</div></div>
<div class="paragraph"><p>See <a href="#AndroidSpecifics">[AndroidSpecifics]</a> for further information.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_integrating_zlm">Integrating ZLM</h2>
<div class="sectionbody">
<div class="paragraph"><p>The file <span class="monospaced">api_example.c</span> shows how easy it is to integrate ZLM into your software product.</p></div>
<div class="listingblock">
<div class="title"><span class="monospaced">api_example.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">;</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* create license object */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!(</span>license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span>err<span style="color: #990000">)))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* try to get license for product 'My Product' from the same directory as the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     executed binary and if that fails from the current directory */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span>license<span style="color: #990000">,</span> <span style="color: #FF0000">"My Product"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"1.0"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> <span style="color: #FF0000">"."</span><span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> err<span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="font-weight: bold"><span style="color: #000000">puts</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"got license!"</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   **********************/</span></span>

  <span style="font-style: italic"><span style="color: #9A1900">/* free license object */</span></span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>Integrating ZLM consists of three simple steps:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
In the beginning of your program you call <span class="monospaced">zlm_license_new()</span> to create a new
<span class="monospaced">ZlmLicense</span> object.
</p>
</li>
<li>
<p>
Afterwards you call <span class="monospaced">zlm_license_get()</span> to retrieve a license.
</p>
</li>
<li>
<p>
In the end of your program you call <span class="monospaced">zlm_license_free()</span> to free the license
object.
</p>
</li>
</ol></div>
<div class="paragraph"><p>When building your binary, just link against the ZLM library file <span class="monospaced">libzlm.a</span>,
which does not have any other dependencies, and you are ready to go!</p></div>
<div class="paragraph"><p>Please refer to next section for more details on the ZLM API.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="API">API Documentation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">The <span class="monospaced">zlm.h</span> header file contains everything you need to use the ZLM API</div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">/*</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  Copyright (c) 2013-2020 Wikena GmbH </span></span><span style="text-decoration: underline"><span style="color: #0000FF">&lt;support@zenlicensemanager.com&gt;</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  All rights reserved.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">*/</span></span>

<span style="font-weight: bold"><span style="color: #000080">#ifndef</span></span> ZLM_H
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_H

<span style="font-weight: bold"><span style="color: #000080">#ifdef</span></span> __cplusplus
<span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="color: #FF0000">"C"</span> <span style="color: #FF0000">{</span>
<span style="font-weight: bold"><span style="color: #000080">#endif</span></span>

<span style="font-weight: bold"><span style="color: #000080">#ifdef</span></span> __ANDROID__
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;jni.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#endif</span></span>

<span style="font-weight: bold"><span style="color: #000080">#ifdef</span></span> __APPLE__
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;TargetConditionals.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#endif</span></span>

<span style="font-style: italic"><span style="color: #9A1900">/* The minimum size of an error buffer. */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_ERRBUF <span style="color: #993399">1024</span>

<span style="font-style: italic"><span style="color: #9A1900">/* The minimum size of a salt string. */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_SALTLEN  <span style="color: #993399">65</span>

<span style="font-style: italic"><span style="color: #9A1900">/* ZLM error codes. */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_OK           <span style="color: #993399">0</span> <span style="font-style: italic"><span style="color: #9A1900">/* everything went fine */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_NOMEM       <span style="color: #990000">-</span><span style="color: #993399">2</span> <span style="font-style: italic"><span style="color: #9A1900">/* memory allocation error */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_IOERR       <span style="color: #990000">-</span><span style="color: #993399">3</span> <span style="font-style: italic"><span style="color: #9A1900">/* I/O error */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_APIERR      <span style="color: #990000">-</span><span style="color: #993399">4</span> <span style="font-style: italic"><span style="color: #9A1900">/* API was used incorrectly */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_NOLIBLIC    <span style="color: #990000">-</span><span style="color: #993399">5</span> <span style="font-style: italic"><span style="color: #9A1900">/* library license malformed/invalid */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_NOLICFILE   <span style="color: #990000">-</span><span style="color: #993399">6</span> <span style="font-style: italic"><span style="color: #9A1900">/* no license file found */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_BADLICFILE  <span style="color: #990000">-</span><span style="color: #993399">7</span> <span style="font-style: italic"><span style="color: #9A1900">/* malformed licfile */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_BADVENDOR   <span style="color: #990000">-</span><span style="color: #993399">8</span> <span style="font-style: italic"><span style="color: #9A1900">/* vendor mismatch between library lic. and file */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_NOVERIFY    <span style="color: #990000">-</span><span style="color: #993399">9</span> <span style="font-style: italic"><span style="color: #9A1900">/* signature verification failed */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_OLDVERSION <span style="color: #990000">-</span><span style="color: #993399">10</span> <span style="font-style: italic"><span style="color: #9A1900">/* version in license is too old */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_EXPIRED    <span style="color: #990000">-</span><span style="color: #993399">11</span> <span style="font-style: italic"><span style="color: #9A1900">/* the license expired */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_WRONGHOST  <span style="color: #990000">-</span><span style="color: #993399">12</span> <span style="font-style: italic"><span style="color: #9A1900">/* wrong host ID / appcert */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_NOPRODUCT  <span style="color: #990000">-</span><span style="color: #993399">13</span> <span style="font-style: italic"><span style="color: #9A1900">/* no license found for product */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_HOSTIDERR  <span style="color: #990000">-</span><span style="color: #993399">14</span> <span style="font-style: italic"><span style="color: #9A1900">/* error while determining host ID */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_KEYGENERR  <span style="color: #990000">-</span><span style="color: #993399">15</span> <span style="font-style: italic"><span style="color: #9A1900">/* error while generating public/private key pair */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_SIGNERR    <span style="color: #990000">-</span><span style="color: #993399">16</span> <span style="font-style: italic"><span style="color: #9A1900">/* error while signing */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_MINVERSION <span style="color: #990000">-</span><span style="color: #993399">17</span> <span style="font-style: italic"><span style="color: #9A1900">/* product version is too old for minversion */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_WRONGOS    <span style="color: #990000">-</span><span style="color: #993399">18</span> <span style="font-style: italic"><span style="color: #9A1900">/* wrong operating system */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_JNIERR     <span style="color: #990000">-</span><span style="color: #993399">19</span> <span style="font-style: italic"><span style="color: #9A1900">/* JNI related error (Android only) */</span></span>
<span style="font-weight: bold"><span style="color: #000080">#define</span></span> ZLM_WRONGCPU   <span style="color: #990000">-</span><span style="color: #993399">20</span> <span style="font-style: italic"><span style="color: #9A1900">/* wrong CPU architecture */</span></span>

<span style="font-style: italic"><span style="color: #9A1900">/* The type of a ZLM license object. */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">struct</span></span> <span style="color: #008080">ZlmLicense</span> ZlmLicense<span style="color: #990000">;</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return a new license object (or NULL if not enough memory is available). */</span></span>
ZlmLicense<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Try to get a new &lt;license&gt; for the given &lt;product&gt;.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   The version given in the corresponding license file or string must be smaller</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   or equal than the one given in the mandatory &lt;produt_version&gt; parameter such</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   that the license is valid. &lt;product_version&gt; must be of the form</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   "major.minor" (e.g., "1.0") or "major.minor.patch" (e.g., "1.0.1"). If no</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   valid license can be obtained an error code is returned and an error message</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   describing the problem is stored in &lt;err&gt; (if &lt;err&gt; is not NULL). If &lt;err&gt; is</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   not NULL, it must have at least ZLM_ERRBUF many bytes. If a valid license was</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   obtained, ZLM_OK is returned and &lt;license&gt; points to the active license.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_license_get() tries to aquire the license in the following order:</span></span>

<span style="font-style: italic"><span style="color: #9A1900">   1.) If the environment variable &lt;ZLM_LICENSE&gt; is defined it is used as path:</span></span>
<span style="font-style: italic"><span style="color: #9A1900">       If it points directly to a file, the file is probed for a valid license.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">       If it points to a directory, then all files ending with '.lic' are probed</span></span>
<span style="font-style: italic"><span style="color: #9A1900">       for a valid license.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   2.) If &lt;argv0&gt; is not NULL it should point to the first member of your</span></span>
<span style="font-style: italic"><span style="color: #9A1900">       main's argv. In this case, the directory in which the main binary resides</span></span>
<span style="font-style: italic"><span style="color: #9A1900">       is used as license directory.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   3.) If &lt;path&gt; is not NULL it is used as license path (as in case 1.)).</span></span>
<span style="font-style: italic"><span style="color: #9A1900">       Use "." to search the current directory for valid license files.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   4.) If &lt;license_string&gt; is not NULL the given string is used as the content</span></span>
<span style="font-style: italic"><span style="color: #9A1900">       of a license file.</span></span>

<span style="font-style: italic"><span style="color: #9A1900">   zlm_license_get() can only be called once on a fresh &lt;license&gt; object. */</span></span>
<span style="color: #009900">int</span>         <span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>product<span style="color: #990000">,</span>
                            <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>product_version<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv0<span style="color: #990000">,</span>
                            <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>path<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>license_string<span style="color: #990000">,</span>
                            <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Release &lt;license&gt; and free corresponding memory. */</span></span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the product of the given &lt;license&gt;. &lt;license&gt; must be a license which</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   has been validated with zlm_license_get(), otherwise NULL is returned. */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_product</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the version of the given &lt;license&gt;. &lt;license&gt; must be a license which</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   has been validated with zlm_license_get(), otherwise NULL is returned. */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_version</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the expiry of the given &lt;license&gt;. &lt;license&gt; must be a license which</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   has been validated with zlm_license_get(), otherwise NULL is returned. */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_expiry</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the number of days the given &lt;license&gt; will expire in. Returns 0 if</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   the license never expires. &lt;license&gt; must be a license which has been</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   validated with zlm_license_get(), otherwise ZLM_APIERR is returned. */</span></span>
<span style="color: #009900">int</span>         <span style="font-weight: bold"><span style="color: #000000">zlm_license_expiry_days</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the customer of the given &lt;license&gt;. &lt;license&gt; must be a license which</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   has been validated with zlm_license_get(), otherwise NULL is returned. */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_customer</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the userdata associated with the given valid &lt;license&gt;. Possible JSON</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   escape sequences are included in unmodified form. If the &lt;license&gt; has not</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   been validated with zlm_license_get() or it does not have userdata</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   associated with it NULL is returned. */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_userdata</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the userdata associated with the given valid &lt;license&gt; in unescaped</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   form. That is, possible JSON escape sequences have been removed: The escaped</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   characters '\"', '\\', '\/', '\b', '\f', '\n', '\r', and '\t' have been</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   unescaped and '\uXXXX' sequences have been converted to 1-3 bytes UTF-8.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   If the &lt;license&gt; has not been validated with zlm_license_get(), it does not</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   have userdata associated with it, or no memory could be allocated NULL is</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   returned. The caller is responsible to free the returned string with</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_free()! */</span></span>
<span style="color: #009900">char</span><span style="color: #990000">*</span>       <span style="font-weight: bold"><span style="color: #000000">zlm_license_userdata_unescaped</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Sets &lt;license&gt; to the next available valid license.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   &lt;license&gt; must be a license which has been validated with</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_license_get(), otherwise ZLM_APIERR is returned.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   If no further valid license can be obtained an error code is returned and an</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   error message describing the problem is stored in &lt;err&gt; (if &lt;err&gt; is not</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   NULL). If &lt;err&gt; is not NULL, it must have at least ZLM_ERRBUF many bytes.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   This method can be used to extend the ZLM checks with your own userdata. For</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   example, if you want to implement different host IDs.*/</span></span>
<span style="color: #009900">int</span>         <span style="font-weight: bold"><span style="color: #000000">zlm_license_next</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Check if &lt;license&gt; has expired. &lt;license&gt; must be a license which has been</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   validated with zlm_license_get(), otherwise ZLM_APIERR is returned. If the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   license expired since it was validated with zlm_license_get(), ZLM_EXPIRED</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   is returned and an error message describing the expiry is stored in &lt;err&gt; (if</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   &lt;err&gt; is not NULL). If &lt;err&gt; is not NULL, it must have at least ZLM_ERRBUF</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   many bytes. */</span></span>
<span style="color: #009900">int</span>         <span style="font-weight: bold"><span style="color: #000000">zlm_license_not_expired</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the version of the ZLM library in use as a string. */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_version</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the unhashed host ID string of this computer in JSON format (in a</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   single line). The caller is responsible to free the returned string with</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_free()! In case of error, NULL is returned and the error buffer &lt;err&gt; is</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   set accordingly. */</span></span>
<span style="color: #009900">char</span><span style="color: #990000">*</span>       <span style="font-weight: bold"><span style="color: #000000">zlm_hostid_json</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Return the hashed host ID string of this computer in JSON format (in a</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   single line). The caller is responsible to free the returned string with</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_free()! In case of error, NULL is returned and the error buffer &lt;err&gt; is</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   set accordingly. The salt used for the hashing is stored in &lt;salt&gt; which must</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   not be NULL and have at least ZLM_SALTLEN many bytes.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   Deprecated: Use zlm_hostid_json() instead! */</span></span>
<span style="color: #009900">char</span><span style="color: #990000">*</span>       <span style="font-weight: bold"><span style="color: #000000">zlm_hostid_json_hashed</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>salt<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Free the memory memory space pointed to by &lt;ptr&gt;, which must have been</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   returned by a previous call to another ZLM library function. */</span></span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_free</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span> <span style="color: #990000">*</span>ptr<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* License check methods which make it harder to remove ZLM from your binary.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   You should call these methods in different places of your program with a</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   valid &lt;license&gt;. Thereby, &lt;license&gt; must be a license which has been</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   validated with zlm_license_get(), otherwise the methods will crash!</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_license_check_a() to zlm_license_check_f() just check, if the license was</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   valid before.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_license_check_g() to zlm_license_check_l() also recheck the expiry.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   That is, if the license expired in the meantime, these checks would crash.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   If you want to shut down gracefully in such cases, use</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_license_not_expired() instead to recheck the expiry.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_license_check_m() to zlm_license_check_r() also recheck the hostid</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   (but not the expiry). That is, if the hostid became invalid in the meantime,</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   these checks would crash. */</span></span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_a</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_b</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_c</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_d</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_e</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_f</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_g</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_h</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_i</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_j</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_k</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_l</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_m</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_n</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_o</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_p</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_q</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span>        <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_r</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* The type of a key function (public or private). */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">typedef</span></span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="color: #990000">(</span>ZlmKeyfunc<span style="color: #990000">)(</span><span style="color: #009900">int</span> <span style="color: #990000">*</span>keylen<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Generate public/private key pair and write it to the files zlm_pubkey.c and</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   zlm_privkey.c in the current directory. */</span></span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_genkeys</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Print host ID string of this computer on stdout. */</span></span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_hostid</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Print host ID string of this computer on stdout and to write it to a file</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   named zlmhostid.txt in the current working directory.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   If the file already exists it is overwritten! */</span></span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_hostid_file</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Print hash of &lt;public_key&gt; on stdout. */</span></span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_keyhash</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmKeyfunc</span> <span style="color: #990000">*</span>public_key<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Sign the license file given in &lt;path&gt; with the given &lt;private_key&gt;.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   If &lt;path&gt; is NULL the license file is read from stdin and the result written</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   to stdout. Reading from stdin limits the max. license file size to 64 KB. */</span></span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_sign_file</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>path<span style="color: #990000">,</span> <span style="color: #008080">ZlmKeyfunc</span> <span style="color: #990000">*</span>private_key<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Verify signatures of license file given in &lt;path&gt; with given &lt;public_key&gt;.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   If &lt;path&gt; is NULL the license file is read from stdin.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   Reading from stdin limits the maximum license file size to 64 KB. */</span></span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_verify_file</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>path<span style="color: #990000">,</span> <span style="color: #008080">ZlmKeyfunc</span> <span style="color: #990000">*</span>public_key<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Sign the license file given in buffer &lt;license&gt; with the given &lt;private_key&gt;</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   and return the result. The caller is responsible to free the returned string</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   with zlm_free()! In case of error, NULL is returned and the error buffer</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   &lt;err&gt; is set accordingly. */</span></span>
<span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_sign_license</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>license<span style="color: #990000">,</span> <span style="color: #008080">ZlmKeyfunc</span> <span style="color: #990000">*</span>private_key<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-weight: bold"><span style="color: #000080">#ifdef</span></span> __ANDROID__
<span style="font-style: italic"><span style="color: #9A1900">/* Android only: In order to use ANDROID_ID entries in the "hostid" field of</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   license files you have to call this this function once before using any other</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   library function! &lt;env&gt; must be the JNI environment, otherwise ZLM_APIERR is</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   returned. &lt;activity&gt; must be an Android activity (that is, an object with the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   getContentResolver() method), otherwise ZLM_APIERR or ZLM_JNIERR is returned.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   If the ANDROID_ID cannot be determined ZLM_JNIERR is returned and err</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   contains an error message. */</span></span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_read_android_id</span></span><span style="color: #990000">(</span><span style="color: #008080">JNIEnv</span> <span style="color: #990000">*</span>env<span style="color: #990000">,</span> <span style="color: #008080">jobject</span> activity<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Android only: Return the ANDROID_ID. Before this method can be used</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   the ANDROID_ID has to be read once by calling zlm_read_android_id(). */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_android_id</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Android only: In order to use application ID entries in the "hostid" field of</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   license files you have to call this this function once before using any other</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   library function! &lt;env&gt; must be the JNI environment, otherwise ZLM_APIERR is</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   returned. &lt;activity&gt; must be an Android activity (that is, an object with the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   getPackageName() method), otherwise ZLM_APIERR or ZLM_JNIERR is returned.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   If the application ID cannot be determined ZLM_JNIERR is returned and err</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   contains an error message. */</span></span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_read_application_id</span></span><span style="color: #990000">(</span><span style="color: #008080">JNIEnv</span> <span style="color: #990000">*</span>env<span style="color: #990000">,</span> <span style="color: #008080">jobject</span> activity<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Android only: Return the application ID. Before this method can be used the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   application ID has to be read once by calling zlm_read_application_id(). */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_application_id</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Android only: In order to use application certificate entries in the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   "appcert" field of license files you have to call this this function once</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   before using any other library function! &lt;env&gt; must be the JNI environment,</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   otherwise ZLM_APIERR is returned. If the application certificate cannot be</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   determined ZLM_JNIERR is returned and err contains an error message. */</span></span>
<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_read_application_cert</span></span><span style="color: #990000">(</span><span style="color: #008080">JNIEnv</span> <span style="color: #990000">*</span>env<span style="color: #990000">,</span> <span style="color: #008080">jobject</span> activity<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* Android only: Return the (oldest) application certificate as SHA-256.</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   Before this method can be used the application ID has to be read once by</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   calling zlm_read_application_cert(). */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_application_cert</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #000080">#endif</span></span>

<span style="font-weight: bold"><span style="color: #000080">#if</span></span> <span style="font-weight: bold"><span style="color: #000000">defined</span></span> <span style="color: #990000">(</span>__APPLE__<span style="color: #990000">)</span> <span style="color: #990000">&amp;&amp;</span> <span style="color: #990000">(</span>TARGET_OS_IOS <span style="color: #990000">&gt;</span> <span style="color: #993399">0</span><span style="color: #990000">)</span>
<span style="font-style: italic"><span style="color: #9A1900">/* iOS only: Return the vendor specific unique key (a UUID conforming to RFC</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   4122 version 4) as a C-string. See </span></span><span style="text-decoration: underline"><span style="color: #0000FF">http://apple.co/2ohHcQY</span></span><span style="font-style: italic"><span style="color: #9A1900"> for details.</span></span>

<span style="font-style: italic"><span style="color: #9A1900">   If the result is NULL wait and get the value again later. This happens, for</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   example, after the device has been restarted but before the user has unlocked</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   the device.</span></span>

<span style="font-style: italic"><span style="color: #9A1900">   The value in this property remains the same while the app (or another app</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   from the same vendor) is installed on the iOS device. The value changes when</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   the user deletes all of that vendor’s apps from the device and subsequently</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   reinstalls one or more of them. The value can also change when installing</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   test builds using Xcode or when installing an app on a device using ad-hoc</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   distribution. */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_ios_hostid</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>

<span style="font-style: italic"><span style="color: #9A1900">/* iOS only: Return the unique bundle identifier (CFBundleIdentifier).</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   See </span></span><span style="text-decoration: underline"><span style="color: #0000FF">https://apple.co/2SU5j50</span></span><span style="font-style: italic"><span style="color: #9A1900"> for details. */</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_ios_bundle_identifier</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span>
<span style="font-weight: bold"><span style="color: #000080">#endif</span></span>

<span style="font-weight: bold"><span style="color: #000080">#ifdef</span></span> __cplusplus
<span style="color: #FF0000">}</span>
<span style="font-weight: bold"><span style="color: #000080">#endif</span></span>

<span style="font-weight: bold"><span style="color: #000080">#endif</span></span></tt></pre></div></div>
<div class="paragraph"><p>The ZLM API consists of the following parts.</p></div>
<div class="paragraph"><div class="title">Error buffer</div><p>ZLM uses a <span class="monospaced">char*</span> as an error buffer to store error messages. If you want to
get error messages you have to define a buffer with a minimum size of
<span class="monospaced">ZLM_ERRBUF</span>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span></tt></pre></div></div>
<div class="paragraph"><p>and pass <span class="monospaced">err</span> to the ZLM functions which take an error object.
If you are not interested in the actual error message you can just pass <span class="monospaced">NULL</span>
and use the error codes.</p></div>
<div class="paragraph"><div class="title">Error codes</div><p>All functions which take an <span class="monospaced">err</span> buffer return a negative <span class="monospaced">int</span> to indicate
an error. If everything went fine <span class="monospaced">ZLM_OK</span> is returned.</p></div>
<div class="paragraph"><div class="title">The license object</div><p>The <span class="monospaced">ZlmLicense</span> type defines the major class in ZLM. It is used
to represent a license. At first a license object has to be created with
<span class="monospaced">zlm_license_new()</span>, which returns a new (unvalidated) license object (or <span class="monospaced">NULL</span> if not enough memory is available):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>ZlmLicense<span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>For example like this:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">;</span>
<span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>

<span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!(</span>license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span>err<span style="color: #990000">)))</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p><span class="monospaced">zlm_license_new()</span> <strong>only</strong> returns <span class="monospaced">NULL</span> if not enough memory was available to
create the object.</p></div>
<div class="paragraph"><p>Afterwards you try to get a valid license with <span class="monospaced">zlm_license_get(license)</span> for a
given <span class="monospaced">product</span>. The version given in the corresponding license file or string
must be smaller or equal than the one given in the mandatory <span class="monospaced">version</span> parameter
such that the license is valid. The <span class="monospaced">version</span> must be of the form
"<em>major</em>.<em>minor</em>" (e.g., <span class="monospaced">"1.0"</span>). If no valid license can be obtained, an error
code is returned and an error message describing the problem is stored in <span class="monospaced">err</span>
(if <span class="monospaced">err</span> is not <span class="monospaced">NULL</span>). <span class="monospaced">zlm_license_get()</span> tries to aquire the license in the
following order:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
If the environment variable <span class="monospaced">ZLM_LICENSE</span> is defined it is used as path:
  If it points directly to a file, the file is probed for a valid license.
  If it points to a directory, then all files ending with <span class="monospaced">.lic</span> are probed
  for a valid license.
</p>
</li>
<li>
<p>
If <span class="monospaced">argv0</span> is not <span class="monospaced">NULL</span> it should point to the first member of your
  main&#8217;s argv. In this case, the directory in which the main binary resides
  is used as license directory.
</p>
</li>
<li>
<p>
If <span class="monospaced">path</span> is not <span class="monospaced">NULL</span> it is used as license path (as in case 1.)).
  Use <span class="monospaced">"."</span> to search the current directory for valid license files.
</p>
</li>
<li>
<p>
If <span class="monospaced">license_string</span> is not <span class="monospaced">NULL</span> the given string is used as the content
  of a license file.
</p>
</li>
</ol></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">,</span>
                    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>product<span style="color: #990000">,</span>
                    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>version<span style="color: #990000">,</span>
                    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv0<span style="color: #990000">,</span>
                    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>path<span style="color: #990000">,</span>
                    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>license_string<span style="color: #990000">,</span>
                    <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>For example to get a license for version <span class="monospaced">"1.0</span>" of the product <span class="monospaced">"My Product"</span> from the same directory as the executed binary and if that fails from the current
directory, you call <span class="monospaced">zlm_license_get()</span> like this:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span>license<span style="color: #990000">,</span> <span style="color: #FF0000">"My Product"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"1.0"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> <span style="color: #FF0000">"."</span><span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> err<span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span>
<span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
  <span style="font-weight: bold"><span style="color: #000000">puts</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"got license!"</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>The call above is the most common use of <span class="monospaced">zlm_license_get()</span>.</p></div>
<div class="paragraph"><p>Finally, you have to call <span class="monospaced">zlm_license_free()</span> at the end of your program to
release the license and free the corresponding memory:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><div class="title">Methods on the license object</div><p>If you have a valid license object, you can get information about the license
with various helper methods:</p></div>
<div class="paragraph"><p>Return the product of the given <span class="monospaced">license</span>. <span class="monospaced">license</span> must be a license which
has been validated with <span class="monospaced">zlm_license_get()</span>, otherwise <span class="monospaced">NULL</span> is returned.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_product</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Return the version of the given <span class="monospaced">license</span>. <span class="monospaced">license</span> must be a license which
has been validated with <span class="monospaced">zlm_license_get()</span>, otherwise <span class="monospaced">NULL</span> is returned.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_version</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Return the expiry of the given <span class="monospaced">license</span>. <span class="monospaced">license</span> must be a license which
has been validated with <span class="monospaced">zlm_license_get()</span>, otherwise <span class="monospaced">NULL</span> is returned.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_expiry</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Return the number of days the given <span class="monospaced">license</span> will expire in. Returns 0 if
the license never expires. <span class="monospaced">license</span> must be a license which has been
validated with <span class="monospaced">zlm_license_get()</span>, otherwise <span class="monospaced">ZLM_APIERR</span> is returned.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_expiry_days</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Return the customer of the given <span class="monospaced">license</span>. <span class="monospaced">license</span> must be a license which
has been validated with <span class="monospaced">zlm_license_get()</span>, otherwise <span class="monospaced">NULL</span> is returned.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_customer</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><div class="title">Extension methods</div><p>The following two methods are only useful if you want to extend ZLM, as
described below in <a href="#ExtendingZLM">[ExtendingZLM]</a>.</p></div>
<div class="paragraph"><p>Return the userdata associated with the given valid <span class="monospaced">license</span>. If the <span class="monospaced">license</span>
has not been validated with <span class="monospaced">zlm_license_get()</span> or it does not have userdata
associated with it <span class="monospaced">NULL</span> is returned.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span><span style="font-weight: bold"><span style="color: #000000">zlm_license_userdata</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Return the userdata associated with the given valid <span class="monospaced">license</span> in unescaped form.
That is, possible JSON escape sequences have been removed: The escaped
characters <em>\"</em>, <em>\\</em>, <em>\/</em>, <em>\b</em>, <em>\f</em>, <em>\n</em>, <em>\r</em>, and <em>\t</em> have been
unescaped and <em>\uXXXX</em> sequences have been converted to 1-3 bytes UTF-8.  If the
<span class="monospaced">license</span> has not been validated with <span class="monospaced">zlm_license_get(</span>), it does not have
userdata associated with it, or no memory could be allocated <span class="monospaced">NULL</span> is returned.
The caller is responsible to free the returned string with <span class="monospaced">zlm_free()</span>!</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_userdata_unescaped</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Sets <span class="monospaced">license</span> to the next available valid license.  <span class="monospaced">license</span> must be a license
which has been validated with <span class="monospaced">zlm_license_get()</span>, otherwise <span class="monospaced">ZLM_APIERR</span> is
returned.  If no further valid license can be obtained, an error code is
returned and an error message describing the problem is stored in <span class="monospaced">err</span> (if
<span class="monospaced">err</span> is not <span class="monospaced">NULL</span>). If <span class="monospaced">err</span> is not <span class="monospaced">NULL</span>, it must have at least <span class="monospaced">ZLM_ERRBUF</span>
many bytes.  This method can be used to extend the ZLM checks with your own
userdata. For example, if you want to implement different host IDs.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_next</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><div class="title">Version function</div><p>Return the version of the ZLM library in use as a string.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_version</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><div class="title">Hostid (JSON) function</div><p>Return the host ID string of this computer in JSON format (in a single line).
The caller is responsible to free the returned string with <span class="monospaced">zlm_free()</span>!
In case of error, <span class="monospaced">NULL</span> is returned and the error buffer <span class="monospaced">err</span> is set
accordingly.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_hostid_json</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>This function can be helpful in automatic license generation for a certain host
computer.</p></div>
<div class="paragraph"><div class="title">Hostid (JSON) function (hashed)</div><p>Return the hashed host ID string of this computer in JSON format (in a
single line). The caller is responsible to free the returned string with
<span class="monospaced">zlm_free()</span>!
In case of error, <span class="monospaced">NULL</span> is returned and the error buffer <span class="monospaced">err</span> is set
accordingly.  The salt used for the hashing is stored in <span class="monospaced">salt</span> which must not
be <span class="monospaced">NULL</span> and have at least <span class="monospaced">ZLM_SALTLEN</span> many bytes.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_hostid_json_hashed</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>salt<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content"><span class="monospaced">zlm_hostid_json_hashed()</span> has been deprecated and
<span class="monospaced">zlm_hostid_json()</span> should be used instead!</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Free function</div><p>Free the memory memory space pointed to by <span class="monospaced">ptr</span>, which must have been
returned by a previous call to another ZLM library function.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_free</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span> <span style="color: #990000">*</span>ptr<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Using <span class="monospaced">zlm_free()</span> instead of the stdlib <span class="monospaced">free()</span> helps to prevent problems for
some Windows configurations (and doesn&#8217;t hurt in other situations).</p></div>
<div class="paragraph"><div class="title">License check methods</div><p>The license check methods make it harder to remove ZLM from your binary.
You should call these methods in different places of your program with a
valid <span class="monospaced">license</span>. Thereby, <span class="monospaced">license</span> must be a license which has been
validated with <span class="monospaced">zlm_license_get()</span>, otherwise the methods will crash!</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_a</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_b</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_c</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_d</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_e</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_f</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_g</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_h</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_i</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_j</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_k</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_l</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_m</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_n</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_o</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_p</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_q</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span>
<span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_r</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">);</span></tt></pre></div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Tip" src="data:image/png;base64,
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">
</td>
<td class="content">You should spread calls of this methods (use different ones) throughout
your code base to make the removal of ZLM from your binary harder.
See <a href="#MoreAPIExamples">[MoreAPIExamples]</a> for example code. If somebody removes the
<span class="monospaced">zlm_license_get()</span> call from your binary, this method calls will crash the
binary.</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Key function</div><p>The type <span class="monospaced">ZlmKeyfunc</span> is used to pass public and private keys to the functions
who need them.</p></div>
<div class="paragraph"><div class="title">Tool functions</div><p>The tool functions give you the functionality of the ZLM tools in the API
itself. They all take an <span class="monospaced">err</span> buffer and return an error code (described
above):</p></div>
<div class="paragraph"><p>Generate public/private key pair and write it to the files <span class="monospaced">zlm_pubkey.c</span> and
<span class="monospaced">zlm_privkey.c</span> in the current directory.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_genkeys</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Print host ID string of this computer on <span class="monospaced">stdout</span>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_hostid</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Print host ID string of this computer on <span class="monospaced">stdout</span> and to write it to a file
named <span class="monospaced">zlmhostid.txt</span> in the current working directory.
If the file already exists it is overwritten!</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_hostid_file</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Print hash of <span class="monospaced">public_key</span> on <span class="monospaced">stdout</span>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_keyhash</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmKeyfunc</span> <span style="color: #990000">*</span>public_key<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Sign the license file given in <span class="monospaced">path</span> with the given <span class="monospaced">private_key</span>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_sign_file</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>path<span style="color: #990000">,</span> <span style="color: #008080">ZlmKeyfunc</span> <span style="color: #990000">*</span>private_key<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Verify signatures of license file given in <span class="monospaced">path</span> with given <span class="monospaced">public_key</span>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_verify_file</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>path<span style="color: #990000">,</span> <span style="color: #008080">ZlmKeyfunc</span> <span style="color: #990000">*</span>public_key<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>The code of the actual ZLM tools which use the tool APIs is given in <a href="#Tools">[Tools]</a>.</p></div>
<div class="paragraph" id="SignInMemoryFunction"><div class="title">Sign in memory function</div><p>Sign the license file given in buffer <span class="monospaced">license</span> with the given <span class="monospaced">private_key</span>
and return the result. The caller is responsible to free the returned string
with <span class="monospaced">zlm_free()</span>! In case of error, <span class="monospaced">NULL</span> is returned and the error buffer
<span class="monospaced">err</span> is set accordingly.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_sign_license</span></span><span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>license<span style="color: #990000">,</span> <span style="color: #008080">ZlmKeyfunc</span> <span style="color: #990000">*</span>private_key<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>To use this function in the backend one would define:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_get_private_key</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> <span style="color: #990000">*</span>keylen<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>and link against the object file <span class="monospaced">zlm_privkey.o</span> (compiled from from <span class="monospaced">zlm_privkey.c</span>) and then pass <span class="monospaced">zlm_get_private_key</span> to <span class="monospaced">zlm_sign_license()</span> as the <span class="monospaced">private_key</span> argument.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content"><strong>Never</strong> link <span class="monospaced">zlm_privkey.o</span> into binaries distributed to customers!</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="MoreAPIExamples">More API Examples</h2>
<div class="sectionbody">
<div class="paragraph"><p>This sections contains more example programs which use the major ZLM API
<span class="monospaced">zlm_get_license()</span> in different ways and explain the usage of the
<span class="monospaced">zlm_license_check_x()</span> methods. The following program tries to get the license from a user supplied license file path.</p></div>
<div class="listingblock">
<div class="title"><span class="monospaced">api_example_path.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">;</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>argc <span style="color: #990000">!=</span> <span style="color: #993399">2</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Usage %s license_file</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* create license object */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!(</span>license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span>err<span style="color: #990000">)))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* try to get license for product 'My Product' from supplied license file path</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     (first argument in argument vector) */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span>license<span style="color: #990000">,</span> <span style="color: #FF0000">"My Product"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"1.0"</span><span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">1</span><span style="color: #990000">],</span> NULL<span style="color: #990000">,</span> err<span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="font-weight: bold"><span style="color: #000000">puts</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"got license!"</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   **********************/</span></span>

  <span style="font-style: italic"><span style="color: #9A1900">/* free license object */</span></span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>And in the following example the license is passed directly to
<span class="monospaced">zlm_license_get()</span> as a license string. This technique can be used to protect a
software library with ZLM.</p></div>
<div class="listingblock">
<div class="title"><span class="monospaced">api_example_string.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="font-weight: bold"><span style="color: #000080">#define</span></span> LICENSE <span style="color: #990000">\</span>
        <span style="color: #FF0000">"{</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">vendor</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">:</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">Wikena GmbH</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">,</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">license</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">:{</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">product</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">:</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">My Product</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">,"</span> <span style="color: #990000">\</span>
        <span style="color: #FF0000">"</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">version</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">:</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">1.0</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">,</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">expiry</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">:</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">never</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">,</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">hostid</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">:</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">any</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">,"</span>         <span style="color: #990000">\</span>
        <span style="color: #FF0000">"</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">customer</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">:</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">John Doe</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">,</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">signature</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">:</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">3041021e74901fc7088ae32bb1"</span> <span style="color: #990000">\</span>
        <span style="color: #FF0000">"276dee2699d6d4e82cd5b39df396a57f608ffa31be021f008d59f1d76a0ac31ad85f"</span> <span style="color: #990000">\</span>
        <span style="color: #FF0000">"9428f145df50292748f15834f92c2d557087b1af</span><span style="color: #CC33CC">\"</span><span style="color: #FF0000">}}"</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">;</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* create license object */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!(</span>license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span>err<span style="color: #990000">)))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* try to get license for product 'My Product' directly from supplied license</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     string */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span>license<span style="color: #990000">,</span> <span style="color: #FF0000">"My Product"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"1.0"</span><span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> LICENSE<span style="color: #990000">,</span> err<span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="font-weight: bold"><span style="color: #000000">puts</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"got license!"</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   **********************/</span></span>

  <span style="font-style: italic"><span style="color: #9A1900">/* free license object */</span></span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>In the following example a license is acquired and checked multiple times
throughout the code. The <span class="monospaced">license</span> object is passed around explicitly.</p></div>
<div class="listingblock">
<div class="title"><span class="monospaced">api_example_check.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">foo</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_a</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  **********************/</span></span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_b</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  **********************/</span></span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">baz</span></span><span style="color: #990000">(</span><span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_c</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  **********************/</span></span>
<span style="color: #FF0000">}</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">;</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* create license object */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!(</span>license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span>err<span style="color: #990000">)))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* try to get license for product 'My Product' from the same directory as the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     executed binary and if that fails from the current directory */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span>license<span style="color: #990000">,</span> <span style="color: #FF0000">"My Product"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"1.0"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> <span style="color: #FF0000">"."</span><span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> err<span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="font-weight: bold"><span style="color: #000000">puts</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"got license!"</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/************************************************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * example code foo(), bar(), baz() called here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   ************************************************/</span></span>
  <span style="font-weight: bold"><span style="color: #000000">foo</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
  <span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
  <span style="font-weight: bold"><span style="color: #000000">baz</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* free license object */</span></span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="paragraph"><p>The following example is similar to the previous one, but the <span class="monospaced">license</span> object is stored in a <em>global</em> variable.</p></div>
<div class="listingblock">
<div class="title"><span class="monospaced">api_example_global.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">;</span> <span style="font-style: italic"><span style="color: #9A1900">/* global license variable */</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">foo</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_a</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  **********************/</span></span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_b</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  **********************/</span></span>
<span style="color: #FF0000">}</span>

<span style="font-weight: bold"><span style="color: #0000FF">static</span></span> <span style="color: #009900">void</span> <span style="font-weight: bold"><span style="color: #000000">baz</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">)</span>
<span style="color: #FF0000">{</span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_check_c</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">  **********************/</span></span>
<span style="color: #FF0000">}</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* create global license object */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!(</span>license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span>err<span style="color: #990000">)))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* try to get license for product 'My Product' from the same directory as the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     executed binary and if that fails from the current directory */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span>license<span style="color: #990000">,</span> <span style="color: #FF0000">"My Product"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"1.0"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> <span style="color: #FF0000">"."</span><span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> err<span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="font-weight: bold"><span style="color: #000000">puts</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"got license!"</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/************************************************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * example code foo(), bar(), baz() called here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   ************************************************/</span></span>
  <span style="font-weight: bold"><span style="color: #000000">foo</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #000000">bar</span></span><span style="color: #990000">();</span>
  <span style="font-weight: bold"><span style="color: #000000">baz</span></span><span style="color: #990000">();</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* free license object */</span></span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="ExtendingZLM">Extending ZLM</h2>
<div class="sectionbody">
<div class="paragraph"><p>The methods <span class="monospaced">zlm_license_userdata()</span> and <span class="monospaced">zlm_license_next()</span> (see <a href="#API">[API]</a>) can
be used to <em>extend</em> ZLM. The following example shows how to extend ZLM with a simple
hostname check. That is, the hostname stored in <span class="monospaced">"userdata"</span> must match the
hostname of the system the program is executed on.</p></div>
<div class="paragraph"><p>We use <span class="monospaced">zlm_license_userdata()</span> to get the hostname from the <span class="monospaced">"userdata</span>" field
and <span class="monospaced">zlm_license_next()</span> to iterate through all valid licenses (ZLM itself does
not consider the <span class="monospaced">"userdata</span>" field) until we find one where the hostname
matches.</p></div>
<div class="listingblock">
<div class="title"><span class="monospaced">api_example_userdata.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;errno.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;string.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#ifndef</span></span> _WIN32
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;unistd.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#else</span></span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;winsock2.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#endif</span></span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">;</span>
  <span style="color: #009900">char</span> hostname<span style="color: #990000">[</span><span style="color: #993399">256</span><span style="color: #990000">],</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>
  <span style="color: #009900">int</span> had_err <span style="color: #990000">=</span> ZLM_OK<span style="color: #990000">;</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* determine hostname */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">gethostname</span></span><span style="color: #990000">(</span>hostname<span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #0000FF">sizeof</span></span> hostname<span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: cannot determine hostname: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">strerror</span></span><span style="color: #990000">(</span>errno<span style="color: #990000">));</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* create license object */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!(</span>license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span>err<span style="color: #990000">)))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* try to get license for product 'My Product' from the same directory as the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     executed binary and if that fails from the current directory */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span>license<span style="color: #990000">,</span> <span style="color: #FF0000">"My Product"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"1.0"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> <span style="color: #FF0000">"."</span><span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> err<span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* we got the first valid license */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">do</span></span> <span style="color: #FF0000">{</span>
    <span style="font-style: italic"><span style="color: #9A1900">/* get userdata */</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>userdata <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_userdata</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>userdata<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
      <span style="font-style: italic"><span style="color: #9A1900">/* check if the userdata contains the hostname of this machine */</span></span>
      <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">strcmp</span></span><span style="color: #990000">(</span>userdata<span style="color: #990000">,</span> hostname<span style="color: #990000">)</span> <span style="color: #990000">==</span> <span style="color: #993399">0</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
        <span style="font-style: italic"><span style="color: #9A1900">/* valid license found, break while-loop */</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">break</span></span><span style="color: #990000">;</span>
      <span style="color: #FF0000">}</span>
    <span style="color: #FF0000">}</span>
    <span style="font-style: italic"><span style="color: #9A1900">/* try to get next valid license */</span></span>
    had_err <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_next</span></span><span style="color: #990000">(</span>license<span style="color: #990000">,</span> err<span style="color: #990000">);</span>
  <span style="color: #FF0000">}</span> <span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span>had_err <span style="color: #990000">==</span> ZLM_OK<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>had_err<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="font-weight: bold"><span style="color: #000000">puts</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"got license!"</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   **********************/</span></span>

  <span style="font-style: italic"><span style="color: #9A1900">/* free license object */</span></span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="SettingUpMinGW">Setting up MinGW</h2>
<div class="sectionbody">
<div class="paragraph"><p>The installation for Windows (MinGW) is described in <a href="#Installation">[Installation]</a>, this
section describes how to setup your MinGW environment on Windows.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Download the MSYS2 installer from <a href="http://www.msys2.org/">http://www.msys2.org/</a> (usually you want the
  <span class="monospaced">x86_64</span> installer no matter what you want to compile, unless you are still
  running a 32bit version of Windows).
</p>
</li>
<li>
<p>
Run the installer and install MSYS2 into <span class="monospaced">C:\msys64</span> (or <span class="monospaced">C:\msys32</span> for the
  32bit version) and launch the MSYS2 shell (<span class="monospaced">C:\msys64\msys2</span>).
</p>
</li>
<li>
<p>
In the MSYS2 shell enter: <span class="monospaced">pacman -Sy pacman</span>
  (to update the package DB and pacman)
</p>
</li>
<li>
<p>
Close the MSYS2 shell and launch it again (<span class="monospaced">C:\msys64\msys2</span>).<br>
  In the MSYS2 shell enter: <span class="monospaced">pacman -Syu</span>
  (to update the package DB and install the core system packages).
</p>
</li>
<li>
<p>
Close the MSYS2 shell and launch it again (<span class="monospaced">C:\msys64\msys2</span>).<br>
  Update the rest with <span class="monospaced">pacman -Su</span>
</p>
</li>
<li>
<p>
Close the MSYS2 shell and launch it again (<span class="monospaced">C:\msys64\msys2</span>).<br>
  Install MinGW 64bit: <span class="monospaced">pacman -S mingw-w64-x86_64-gcc</span>
  (to compile ZLM 64bit).<br>
  Install MinGW 32bit: <span class="monospaced">pacman -S mingw-w64-i686-gcc</span> (to compile ZLM 32bit).
</p>
</li>
<li>
<p>
Install make: <span class="monospaced">pacman -S make</span>.
</p>
</li>
<li>
<p>
Optionally install any libraries/tools you may need.<br>
  You can search the repository by  <span class="monospaced">pacman -Ss name_of_package</span><br>
  and install a package by <span class="monospaced">pacman -S name_of_package</span>.
</p>
</li>
<li>
<p>
To compile the ZLM Windows (MinGW) 64bit lauch <span class="monospaced">C:\msys64\mingw64</span><br>
  and follow guidelines in <a href="#Installation">[Installation]</a>.<br>
  For 32bit launch <span class="monospaced">C:\msys64\mingw32</span>
</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="AndroidSpecifics">Android Specifics</h2>
<div class="sectionbody">
<div class="paragraph"><p>To build <span class="monospaced">libzlm.a</span> you have to set some environment variables pointing to your
Android NDK. Please refer to the <span class="monospaced">Makefile</span> in your Android distribution for
details.</p></div>
<div class="paragraph"><p>On Android it is also possible to use an ANDROID_ID or application ID as
<span class="monospaced">"hostid"</span> entry in license files (see <a href="#Licensefile">[Licensefile]</a>). Application IDs must be
prefixed with <span class="monospaced">"applicationID="</span>.</p></div>
<div class="paragraph"><div class="title">Android only APIs</div><p>In order to use ANDROID_ID entries in the <span class="monospaced">"hostid"</span> field of
license files you have to call this this function once before using any other
library function! <span class="monospaced">env</span> must be the JNI environment, otherwise <span class="monospaced">ZLM_APIERR</span> is
returned. <span class="monospaced">activity</span> must be an Android activity (that is, an object with the
<span class="monospaced">getContentResolver()</span> method), otherwise <span class="monospaced">ZLM_APIERR</span> or <span class="monospaced">ZLM_JNIERR</span> is
returned. If the ANDROID_ID cannot be determined <span class="monospaced">ZLM_JNIERR</span> is returned and
<span class="monospaced">err</span> contains an error message.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_read_android_id</span></span><span style="color: #990000">(</span><span style="color: #008080">JNIEnv</span> <span style="color: #990000">*</span>env<span style="color: #990000">,</span> <span style="color: #008080">jobject</span> activity<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Return the ANDROID_ID. Before this method can be used
the ANDROID_ID has to be read once by calling <span class="monospaced">zlm_read_android_id()</span>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_android_id</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>In order to use application ID entries in the <span class="monospaced">"hostid"</span> field of license files
you have to call this this function once before using any other library
function! <span class="monospaced">env</span> must be the JNI environment, otherwise <span class="monospaced">ZLM_APIERR</span> is
returned. <span class="monospaced">activity</span> must be an Android activity (that is, an object with the
<span class="monospaced">getPackageName()</span> method), otherwise <span class="monospaced">ZLM_APIERR</span> or <span class="monospaced">ZLM_JNIERR</span> is returned.
If the application ID cannot be determined <span class="monospaced">ZLM_JNIERR</span> is returned and <span class="monospaced">err</span>
contains an error message.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_read_application_id</span></span><span style="color: #990000">(</span><span style="color: #008080">JNIEnv</span> <span style="color: #990000">*</span>env<span style="color: #990000">,</span> <span style="color: #008080">jobject</span> activity<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Return the application ID. Before this method can be used the application ID has
to be read once by calling <span class="monospaced">zlm_read_application_id()</span>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_application_id</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>In order to use application certificate entries in the <span class="monospaced">"appcert"</span> field of
license files you have to call this this function once before using any other
library function! <span class="monospaced">env</span> must be the JNI environment, otherwise <span class="monospaced">ZLM_APIERR</span> is
returned. If the application certificate cannot be determined <span class="monospaced">ZLM_JNIERR</span> is
returned and <span class="monospaced">err</span> contains an error message.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">zlm_read_application_cert</span></span><span style="color: #990000">(</span><span style="color: #008080">JNIEnv</span> <span style="color: #990000">*</span>env<span style="color: #990000">,</span> <span style="color: #008080">jobject</span> activity<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Return the (oldest) application certificate as SHA-256.
Before this method can be used the application ID has to be read once by
calling <span class="monospaced">zlm_read_application_cert()</span>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_application_cert</span></span><span style="color: #990000">(</span><span style="color: #009900">void</span><span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><div class="title">Determining the ANDROID_ID on a device</div><p>You can determine the ANDROID_ID on a device by:</p></div>
<div class="ulist"><ul>
<li>
<p>
Either run the Android Debug Bridge:
  <span class="monospaced">adb shell 'settings get secure android_id'</span>
</p>
</li>
<li>
<p>
Or install the
        <a href="https://play.google.com/store/apps/details?id=com.evozi.deviceid">Device ID
        app</a> from Evozi and run it. The first entry (Android Device ID) is the
  ANDROID_ID. By tapping on it one can easily share it via various means.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Afterwards just add the 16 character hexadecimal string to the <span class="monospaced">"hostid"</span> field
of a license file and sign it with <span class="monospaced">zlmsign</span>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">Make sure to call <span class="monospaced">zlm_read_android_id()</span> once in the beginning of
your software, otherwise ZLM will not recognize the ANDROID_ID!</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Determining the application ID</div><p>Every Android app has a unique application ID that looks like a Java package
name, such as <span class="monospaced">com.example.myapp</span>.</p></div>
<div class="paragraph"><p>The application ID is defined with the <span class="monospaced">applicationId</span> property in your module&#8217;s
<span class="monospaced">build.gradle</span> file, see
<a href="https://developer.android.com/studio/build/application-id">Android
documentation</a>.</p></div>
<div class="paragraph"><p>To set an application ID as <span class="monospaced">"hostid"</span> prefix it with <span class="monospaced">"applicationID="</span>. For
example, for the application ID <span class="monospaced">com.example.myapp</span> the <span class="monospaced">"hostid"</span> entry would
be <span class="monospaced">"applicationID=com.example.myapp"</span>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">Make sure to call <span class="monospaced">zlm_read_application_id()</span> once in the beginning
of your software, otherwise ZLM will not recognize the application ID!</td>
</tr></table>
</div>
<div class="paragraph"><div class="title">Determining the signing certificate</div><p>Every Android app is signed with a signing certificate. To get the SHA-256 hash
of the used signing certificate do one of the following:</p></div>
<div class="ulist"><ul>
<li>
<p>
Click on the Gradle menu in AndroidStudio, expand the <span class="monospaced">Tasks</span> tree, and click
  on <span class="monospaced">android</span> and <span class="monospaced">signingReport</span>. Look for <span class="monospaced">SHA-256</span> hash of the corresponding
  builds.
</p>
</li>
<li>
<p>
Run: <span class="monospaced">keytool -list -v -keystore keystore_name -alias alias_name</span>.
  Look for <span class="monospaced">SHA-256</span> hash of the key.
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<img alt="Important" src="data:image/png;base64,
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
EQn3XQAAAABJRU5ErkJggg==">
</td>
<td class="content">Make sure to call <span class="monospaced">zlm_read_application_cert()</span> once in the beginning
of your software, otherwise ZLM will not recognize the application certificate!</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="iOSSpecifics">iOS Specifics</h2>
<div class="sectionbody">
<div class="paragraph"><p>The distributions for iOS can only build <span class="monospaced">libzlm.a</span> with an existing key pair
and they do not build the tools (like <span class="monospaced">zlmsign</span>). To generate a key pair and to
sign license files for iOS use another distribution (for example, the one for
Mac OS).</p></div>
<div class="paragraph"><p>To link <span class="monospaced">libzlm.a</span> into your iOS application you also have to link in the
<span class="monospaced">Foundation</span> and <span class="monospaced">UIKit</span> frameworks (usually done by Xcode automatically).</p></div>
<div class="paragraph"><p>Because the <span class="monospaced">"hostid"</span> on iOS is vendor specific you cannot use a generic tool
like <span class="monospaced">"zlmhostid"</span> to retrieve it, but only with the API given below.</p></div>
<div class="paragraph"><div class="title">iOS only APIs</div><p>Return the vendor specific unique key (a UUID conforming to RFC
4122 version 4) as a C-string.
See <a href="http://apple.co/2ohHcQY">Apple Developer Documentation</a> for details.</p></div>
<div class="paragraph"><p>If the result is <span class="monospaced">NULL</span> wait and get the value again later. This happens, for
example, after the device has been restarted but before the user has unlocked
the device.</p></div>
<div class="paragraph"><p>The value in this property remains the same while the app (or another app
from the same vendor) is installed on the iOS device. The value changes when
the user deletes all of that vendor’s apps from the device and subsequently
reinstalls one or more of them. The value can also change when installing
test builds using Xcode or when installing an app on a device using ad-hoc
distribution.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_ios_hostid</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><p>Return the unique bundle identifier (CFBundleIdentifier).
See <a href="https://apple.co/2SU5j50">Apple Developer Documentation</a> for details.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_ios_bundle_identifier</span></span><span style="color: #990000">(</span><span style="color: #009900">char</span> <span style="color: #990000">*</span>err<span style="color: #990000">);</span></tt></pre></div></div>
<div class="paragraph"><div class="title">iOS specific temporary failure</div><p>Since retrieving the vendor specific unique key might fail temporarily (see
above) one should make sure it is available <strong>before</strong> calling
<span class="monospaced">zlm_license_get()</span>. Example code:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;unistd.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #008080">ZlmLicense</span> <span style="color: #990000">*</span>license<span style="color: #990000">;</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>
  <span style="color: #009900">unsigned</span> <span style="color: #009900">int</span> seconds <span style="color: #990000">=</span> <span style="color: #993399">1</span><span style="color: #990000">;</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* create license object */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(!(</span>license <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_license_new</span></span><span style="color: #990000">(</span>err<span style="color: #990000">)))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* make sure the vendor specific unique key is available */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">while</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">zlm_ios_hostid</span></span><span style="color: #990000">(</span>err<span style="color: #990000">)</span> <span style="color: #990000">==</span> NULL<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-style: italic"><span style="color: #9A1900">/* temporary failure, sleep before retry */</span></span>
    <span style="font-weight: bold"><span style="color: #000000">sleep</span></span><span style="color: #990000">(</span>seconds<span style="color: #990000">);</span>
    <span style="font-style: italic"><span style="color: #9A1900">/* double number of seconds for next sleep round */</span></span>
    seconds <span style="color: #990000">&lt;&lt;=</span> <span style="color: #993399">1</span><span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* try to get license for product 'My Product' from the same directory as the</span></span>
<span style="font-style: italic"><span style="color: #9A1900">     executed binary and if that fails from the current directory */</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">zlm_license_get</span></span><span style="color: #990000">(</span>license<span style="color: #990000">,</span> <span style="color: #FF0000">"My Product"</span><span style="color: #990000">,</span> <span style="color: #FF0000">"1.0"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> <span style="color: #FF0000">"."</span><span style="color: #990000">,</span> NULL<span style="color: #990000">,</span> err<span style="color: #990000">))</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span>
    <span style="font-weight: bold"><span style="color: #000000">puts</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"got license!"</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/**********************</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   * run your code here *</span></span>
<span style="font-style: italic"><span style="color: #9A1900">   **********************/</span></span>

  <span style="font-style: italic"><span style="color: #9A1900">/* free license object */</span></span>
  <span style="font-weight: bold"><span style="color: #000000">zlm_license_free</span></span><span style="color: #990000">(</span>license<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="Toolfiles">Tool Sources</h2>
<div class="sectionbody">
<div class="paragraph"><p>The ZLM tools are just simple wrappers for the tool functions given in the ZLM
API (see above <a href="#API">[API]</a>):</p></div>
<div class="listingblock">
<div class="title"><span class="monospaced">zlmgenkeys.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>
  <span style="color: #009900">int</span> had_err<span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>argc <span style="color: #990000">!=</span> <span style="color: #993399">1</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Usage: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]);</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Generate private and public keys for signatures.</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* generate keys */</span></span>
  had_err <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_genkeys</span></span><span style="color: #990000">(</span>err<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>had_err<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"%s: error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">-</span>had_err<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="title"><span class="monospaced">zlmhostid.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>
  <span style="color: #009900">int</span> had_err<span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>argc <span style="color: #990000">!=</span> <span style="color: #993399">1</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Usage: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]);</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Print host ID on stdout.</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* print host ID on stdout and write it to file zlmhostid.txt in CWD. */</span></span>
  had_err <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_hostid_file</span></span><span style="color: #990000">(</span>err<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>had_err<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"%s: error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">-</span>had_err<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="title"><span class="monospaced">zlmkeyhash.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_get_public_key</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> <span style="color: #990000">*</span>keylen<span style="color: #990000">);</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>
  <span style="color: #009900">int</span> had_err<span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>argc <span style="color: #990000">!=</span> <span style="color: #993399">1</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Usage: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]);</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Print hash of public key on stdout.</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* print public key hash */</span></span>
  had_err <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_keyhash</span></span><span style="color: #990000">(</span>zlm_get_public_key<span style="color: #990000">,</span> err<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>had_err<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"%s: error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">-</span>had_err<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="title"><span class="monospaced">zlmsign.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_get_private_key</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> <span style="color: #990000">*</span>keylen<span style="color: #990000">);</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>
  <span style="color: #009900">int</span> had_err<span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>argc <span style="color: #990000">&gt;</span> <span style="color: #993399">2</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Usage: %s [license_file_to_sign]</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]);</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Sign the given license file (or read from stdin).</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>argc <span style="color: #990000">==</span> <span style="color: #993399">1</span><span style="color: #990000">)</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"reading license file from stdin...</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* sign license file */</span></span>
  had_err <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_sign_file</span></span><span style="color: #990000">(</span>argv<span style="color: #990000">[</span><span style="color: #993399">1</span><span style="color: #990000">],</span> zlm_get_private_key<span style="color: #990000">,</span> err<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>had_err<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"%s: error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">-</span>had_err<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
<div class="listingblock">
<div class="title"><span class="monospaced">zlmverify.c</span></div>
<div class="content"><!-- Generator: GNU source-highlight
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdio.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">&lt;stdlib.h&gt;</span>
<span style="font-weight: bold"><span style="color: #000080">#include</span></span> <span style="color: #FF0000">"zlm.h"</span>

<span style="font-weight: bold"><span style="color: #0000FF">extern</span></span> <span style="font-weight: bold"><span style="color: #0000FF">const</span></span> <span style="color: #009900">unsigned</span> <span style="color: #009900">char</span><span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">zlm_get_public_key</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> <span style="color: #990000">*</span>keylen<span style="color: #990000">);</span>

<span style="color: #009900">int</span> <span style="font-weight: bold"><span style="color: #000000">main</span></span><span style="color: #990000">(</span><span style="color: #009900">int</span> argc<span style="color: #990000">,</span> <span style="color: #009900">char</span> <span style="color: #990000">*</span>argv<span style="color: #990000">[])</span>
<span style="color: #FF0000">{</span>
  <span style="color: #009900">char</span> err<span style="color: #990000">[</span>ZLM_ERRBUF<span style="color: #990000">];</span>
  <span style="color: #009900">int</span> had_err<span style="color: #990000">;</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>argc <span style="color: #990000">&gt;</span> <span style="color: #993399">2</span><span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Usage: %s [license_file_to_verify]</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">]);</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"Verify the given license file (or read from stdin).</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_FAILURE<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>
  <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>argc <span style="color: #990000">==</span> <span style="color: #993399">1</span><span style="color: #990000">)</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"reading license file from stdin...</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">);</span>

  <span style="font-style: italic"><span style="color: #9A1900">/* verify license file */</span></span>
  had_err <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">zlm_verify_file</span></span><span style="color: #990000">(</span>argv<span style="color: #990000">[</span><span style="color: #993399">1</span><span style="color: #990000">],</span> zlm_get_public_key<span style="color: #990000">,</span> err<span style="color: #990000">);</span>

  <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="color: #990000">(</span>had_err<span style="color: #990000">)</span> <span style="color: #FF0000">{</span>
    <span style="font-weight: bold"><span style="color: #000000">fprintf</span></span><span style="color: #990000">(</span>stderr<span style="color: #990000">,</span> <span style="color: #FF0000">"%s: error: %s</span><span style="color: #CC33CC">\n</span><span style="color: #FF0000">"</span><span style="color: #990000">,</span> argv<span style="color: #990000">[</span><span style="color: #993399">0</span><span style="color: #990000">],</span> err<span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #990000">-</span>had_err<span style="color: #990000">;</span>
  <span style="color: #FF0000">}</span>

  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> EXIT_SUCCESS<span style="color: #990000">;</span>
<span style="color: #FF0000">}</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">Changelog</h2>
<div class="sectionbody">
<div class="ulist"><div class="title">Changes in version 2024.08.14</div><ul>
<li>
<p>
Fix Android build.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 2024.05.11</div><ul>
<li>
<p>
Fix bug where applicationID of a certain length falsely doesn&#8217;t match with
  license file.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 2023.10.07</div><ul>
<li>
<p>
<span class="monospaced">zlmobfsctver</span> now preperly escapes backslashes.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 2023.08.07</div><ul>
<li>
<p>
Version for iOS simulator on arm64 added.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 2022.07.02</div><ul>
<li>
<p>
We changed the version numbers to <a href="https://calver.org">calender versioning</a>
  (using the <span class="monospaced">YYYY.0M.0D</span> format).
</p>
</li>
<li>
<p>
<span class="monospaced">zlmsign</span> now preserves a leading zero in <em>minor</em> and <em>patch</em> versions.
</p>
</li>
<li>
<p>
Improved errors messages for version mismatches.
</p>
</li>
<li>
<p>
<span class="monospaced">"expiry"</span> years can be &gt;= 2038 on platforms with a 64-bit time_t.
</p>
</li>
<li>
<p>
Bug fixes.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.23 (2020-04-28)</div><ul>
<li>
<p>
license files can have optional <span class="monospaced">"cpu"</span> architecture entries
</p>
</li>
<li>
<p>
<span class="monospaced">"cpu"</span> entries can produce new error code <span class="monospaced">ZLM_WRONGCPU</span>
</p>
</li>
<li>
<p>
<span class="monospaced">zlmsign</span>: fix bug where applicationID of a certain length is falsely rejected
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.22 (2019-10-24)</div><ul>
<li>
<p>
fix error messages for version mismatch
</p>
</li>
<li>
<p>
Android: compile with -fPIC instead of -fPIE
</p>
</li>
<li>
<p>
If the <em>patch</em> number of a <span class="monospaced">"version"</span> entry in a license file is not set it
  is considered to be <span class="monospaced">ULONG_MAX</span>.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.21 (2019-10-02)</div><ul>
<li>
<p>
the <span class="monospaced">zlmsign</span> tool correctly handles license file entries of the form
  "<em>major</em>.<em>minor</em>.<em>patch</em>" (in addition to the old form "<em>major</em>.<em>minor</em>").
</p>
</li>
<li>
<p>
Android: builds have been switched to LLVM from NDK r20 (Android API level 16
  for 32-bit builds and level 21 for 64-bit builds).
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.20 (2019-09-30)</div><ul>
<li>
<p>
<span class="monospaced">"version"</span> and <span class="monospaced">"minversion"</span> license file entries can have the new form
  "<em>major</em>.<em>minor</em>.<em>patch</em>" (in addition to the old form "<em>major</em>.<em>minor</em>").
</p>
</li>
<li>
<p>
Linux: support for the MIPS platform has been added
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.19 (2019-08-15)</div><ul>
<li>
<p>
Android only: <span class="monospaced">"hostid"</span> can also be an application ID (prefixed with
  <span class="monospaced">"applicationID="</span>).
</p>
</li>
<li>
<p>
Android only: new <span class="monospaced">"appcert"</span> entry in license files can be used to bind
  licenses to signing certificates.
</p>
</li>
<li>
<p>
iOS only: <span class="monospaced">"hostid"</span> can also be a bundle identifier (prefixed with
  <span class="monospaced">"CFBundleIdentifier="</span>).
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.18 (2019-07-25)</div><ul>
<li>
<p>
iOS: fix missing symbol in distribution
</p>
</li>
<li>
<p>
fix documentation bug for the <span class="monospaced">zlmhostid</span> tool
</p>
</li>
<li>
<p>
improve error message if the environment variable <span class="monospaced">ZLM_LICENSE</span> is defined,
  points to a directory, and contains an invalid license file.
</p>
</li>
<li>
<p>
JSON parser has been updated
</p>
</li>
<li>
<p>
Windows: due to problems with VS2013 only the VS2015 distribution builds DLLs   and contains .NET and Java bindings.
</p>
</li>
<li>
<p>
Windows: ZLM can now handle license files in directory paths which contain
  non-ASCII characters (Unicode). In error messages such characters are
  converted to <span class="monospaced">?</span> for maximum portability.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.17 (2018-01-15)</div><ul>
<li>
<p>
<span class="monospaced">zlm_sign_license()</span> added to ZLM API
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.16 (2017-12-17)</div><ul>
<li>
<p>
license files can have optional <span class="monospaced">"expirynofs"</span> entries
</p>
</li>
<li>
<p>
allow the ANDROID_ID to be 15 characters long (may happen on a HTC One).
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.15 (2017-09-29)</div><ul>
<li>
<p>
the <span class="monospaced">zlmsign</span> tool reads from stdin and writes to stdout if no license file
  is given as argument.
</p>
</li>
<li>
<p>
the <span class="monospaced">zlmverify</span> tool reads from stdin if no license file is given as argument
</p>
</li>
<li>
<p>
ZLM now runs on iOS and <span class="monospaced">"iOS"</span> is a valid <span class="monospaced">"os</span>" entry
</p>
</li>
<li>
<p>
the <span class="monospaced">zlmsign</span> tool signs license files with <span class="monospaced">"os"</span> entries set to <span class="monospaced">"iOS"</span>
</p>
</li>
<li>
<p>
iOS only: <span class="monospaced">"hostid"</span> must be an UUID (conforming to RFC 4122 version 4)
</p>
</li>
<li>
<p>
iOS only: <span class="monospaced">zlm_ios_hostid()</span> added to ZLM API
</p>
</li>
<li>
<p>
the <span class="monospaced">zlmsign</span> tool signs license files with UUID (RFC 4122) <span class="monospaced">"hostid"</span> entries
</p>
</li>
<li>
<p>
the ZLM library exports less (unused) symbols
</p>
</li>
<li>
<p>
Ignore errors reading out MAC addresses, if the ANDROID_ID has been read with
  <span class="monospaced">zlm_read_android_id()</span> beforehand. This fixes a problem on Android devices
  where the deprecated reading of MAC addresses is not available anymore.
</p>
</li>
<li>
<p>
Windows: the Visual Studio distributions are build with VS2013 and VS2015
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.14 (2017-03-01)</div><ul>
<li>
<p>
Android only: <span class="monospaced">"hostid"</span> can also be an ANDROID_ID
</p>
</li>
<li>
<p>
Android only: <span class="monospaced">zlm_read_android_id()</span> and <span class="monospaced">zlm_android_id()</span> added to ZLM API
</p>
</li>
<li>
<p>
Android only: <span class="monospaced">zlm_read_android_id()</span> can return new error code <span class="monospaced">ZLM_JNIERR</span>
</p>
</li>
<li>
<p>
the <span class="monospaced">zlmsign</span> tool signs license files with ANDROID_ID <span class="monospaced">"hostid"</span> entries
</p>
</li>
<li>
<p>
Android releases are now build with NDK r13b instead of r13
</p>
</li>
<li>
<p>
Linux: add additional x86 distribution which was build with Clang.
  Use this version on older Linux systems if you get a linking error with GCC.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.13 (2016-11-18)</div><ul>
<li>
<p>
the optional <span class="monospaced">"userdata"</span> entry in a license file can also be an <em>object</em> now,
  in previous versions only a <em>string</em> was possible
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.12 (2016-10-07)</div><ul>
<li>
<p>
host IDs for Android now also contain eth devices
</p>
</li>
<li>
<p>
64-bit version for Android ARM added
</p>
</li>
<li>
<p>
the <span class="monospaced">zlmsign</span> tool now converts MAC addresses to lowercase (as they are shown
  by the <span class="monospaced">zlmhostid</span> tool). This allows to use MAC addresses retrieved with
  other tools directly (like <span class="monospaced">ifconfig</span>).
</p>
</li>
<li>
<p>
typos in error messages were fixed
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_hostid_json_hashed()</span> output fixed
</p>
</li>
<li>
<p>
Android releases are now build with NDK r13 instead of r11c, the 32-bit
  version targets API level 16 and the 64-bit version API level 21.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.11 (2016-08-30)</div><ul>
<li>
<p>
ZLM now runs on FreeBSD and <span class="monospaced">"FreeBSD"</span> is a valid <span class="monospaced">"os</span>" entry
</p>
</li>
<li>
<p>
the <span class="monospaced">zlmsign</span> tool signs license files with <span class="monospaced">"os"</span> entries set to <span class="monospaced">"FreeBSD"</span>
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_license_version()</span> added to ZLM API
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.10 (2016-04-20)</div><ul>
<li>
<p>
ZLM now runs on Android and <span class="monospaced">"Android"</span> is a valid <span class="monospaced">"os</span>" entry
</p>
</li>
<li>
<p>
the <span class="monospaced">zlmsign</span> tool signs license files with <span class="monospaced">"os"</span> entries set to <span class="monospaced">"Android"</span>
</p>
</li>
<li>
<p>
a possible problem with the clock set back detection on some platforms was
  fixed
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.9 (2016-02-27)</div><ul>
<li>
<p>
the <span class="monospaced">zlmhostid</span> tool prints the host ID(s) of the computer in unhased
  form again (reverting the change introduced in version 1.7).
  Using the host ID(s) in unhashed forms makes it easier to detect the abuse of
  trial versions by a user reusing the same machine.
</p>
</li>
<li>
<p>
the <span class="monospaced">zlmsign</span> tool now hashes the host ID(s) (with a salt) before signing
  them. This makes it harder to spoof MAC addresses.
  To sign the host ID(s) in unhased form (old behavior) set the environment
  variable ZLM_SIGN_WITHOUT_HASHING to any value.
  You should do that, if you want the signed license files to be parsed by
  binaries using ZLM version 1.6 or earlier.
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_hostid_json()</span> was undeprecated
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_hostid_json_hashed()</span> was deprecated in favor of
  <span class="monospaced">zlm_hostid_json()</span>, but continues to work as before
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.8 (2016-01-16)</div><ul>
<li>
<p>
the <span class="monospaced">zlmhostid</span> tool additionally writes its output to a file <span class="monospaced">zlmhostid.txt</span>
  in the current working directory.
</p>
</li>
<li>
<p>
a prebuild <span class="monospaced">zlmhostid</span> tool is now part of the ZLM distributions
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_hostid_file()</span> added to ZLM API
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_free()</span> added to ZLM API
</p>
</li>
<li>
<p>
Windows: the Visual Studio distribution builds two versions now (with the
  compile flags <span class="monospaced">/MD</span> and <span class="monospaced">/MT</span>, respectively)
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.7 (2015-08-21)</div><ul>
<li>
<p>
the <span class="monospaced">zlmhostid</span> tool now prints the host ID(s) of the computer in a hashed
  form with a corresponding salt. This makes it harder to spoof MAC addresses.
  It also prints <span class="monospaced">"os"</span> entries now. Old (unhashed) "hostid" entries can still
  be signed and are still valid.
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_hostid_json_hashed()</span> added to ZLM API
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_hostid_json()</span> was deprecated in favor of <span class="monospaced">zlm_hostid_json_hashed()</span>
  but continues to work as before
</p>
</li>
<li>
<p>
license files starting with an UTF-8 byte order mark (BOM) can be parsed
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.6 (2014-08-19)</div><ul>
<li>
<p>
the documentation of the <span class="monospaced">zlm_license_check_x()</span> methods has been improved
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_license_not_expired()</span> added to ZLM API
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.5 (2014-08-17)</div><ul>
<li>
<p>
the <span class="monospaced">zlm_license_check_x()</span> methods have been improved
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_license_userdata_unescaped()</span> added to ZLM API
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.4 (2014-05-08)</div><ul>
<li>
<p>
Java bindings are contained in most distributions
</p>
</li>
<li>
<p>
Windows: the Visual Studio distribution builds a Dynamic Link Library (DLL)
</p>
</li>
<li>
<p>
Windows: the Visual Studio distribution contains .NET bindings
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_hostid_json()</span> added to ZLM API
</p>
</li>
<li>
<p>
license files can have optional <span class="monospaced">"os"</span> entries
</p>
</li>
<li>
<p>
<span class="monospaced">"os"</span> entries can produce new error code <span class="monospaced">ZLM_WRONGOS</span>
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.3 (2014-04-28)</div><ul>
<li>
<p>
Linux: ZLM works better with older libc versions
</p>
</li>
<li>
<p>
Linux: the ZLM library is position-independent (compiled with option -fPIC)
</p>
</li>
<li>
<p>
Windows: the ZLM library works better with older Visual Studio compilers
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.2 (2013-09-18)</div><ul>
<li>
<p>
license files can have optional <span class="monospaced">"minversion"</span> entries
</p>
</li>
<li>
<p>
<span class="monospaced">"minversion"</span> entries can produce new error code <span class="monospaced">ZLM_MINVERSION</span>
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_version()</span> added to ZLM API
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.1 (2013-08-13)</div><ul>
<li>
<p>
license files can have optional <span class="monospaced">"userdata"</span> entries
</p>
</li>
<li>
<p>
<span class="monospaced">zlm_license_userdata()</span> and <span class="monospaced">zlm_license_next()</span> added to ZLM API
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Changes in version 1.0 (2013-06-06)</div><ul>
<li>
<p>
initial release
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div id="footnotes"><hr></div>
<div id="footer">
<div id="footer-text">
Last updated
 2023-08-07 12:28:43 UTC
</div>
</div>
</body>
</html>
